{% extends 'base.html' %}

{% block title %}Help & Documentation - Accredit Helper Pro{% endblock %}

{% block breadcrumb %}
<li class="breadcrumb-item"><a href="{{ url_for('index') }}">Home</a></li>
<li class="breadcrumb-item"><a href="{{ url_for('utility.index') }}">Utilities</a></li>
<li class="breadcrumb-item active">Help & Documentation</li>
{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1><i class="fas fa-question-circle me-2"></i>Help & Documentation</h1>
        <a href="{{ url_for('utility.index') }}" class="btn btn-outline-secondary">
            <i class="fas fa-arrow-left"></i> Back to Utilities
        </a>
    </div>

    <!-- Add Search Feature -->
    <div class="row mb-4">
        <div class="col-lg-12">
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-search"></i></span>
                <input type="text" id="helpSearchInput" class="form-control" placeholder="Search help documentation...">
                <button class="btn btn-primary" id="helpSearchBtn">Search</button>
            </div>
            <div id="searchResults" class="mt-2 d-none">
                <div class="card">
                    <div class="card-header bg-light">
                        <span id="resultCount">0</span> results found
                        <button type="button" class="btn-close float-end" id="closeSearchResults" aria-label="Close"></button>
                    </div>
                    <div class="card-body">
                        <ul id="searchResultsList" class="list-group">
                            <!-- Search results will appear here -->
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-3 mb-4">
            <div class="list-group sticky-top" id="helpNav" style="top: 20px;">
                <a class="list-group-item list-group-item-action" href="#overview" data-bs-toggle="list"><i class="fas fa-info-circle me-2"></i>Overview</a>
                <a class="list-group-item list-group-item-action" href="#getting-started" data-bs-toggle="list"><i class="fas fa-rocket me-2"></i>Getting Started</a>
                <a class="list-group-item list-group-item-action" href="#courses" data-bs-toggle="list"><i class="fas fa-book me-2"></i>Courses</a>
                <a class="list-group-item list-group-item-action" href="#outcomes" data-bs-toggle="list"><i class="fas fa-bullseye me-2"></i>Outcomes</a>
                <a class="list-group-item list-group-item-action" href="#exams" data-bs-toggle="list"><i class="fas fa-file-alt me-2"></i>Exams & Questions</a>
                <a class="list-group-item list-group-item-action" href="#students" data-bs-toggle="list"><i class="fas fa-user-graduate me-2"></i>Students & Scores</a>
                <a class="list-group-item list-group-item-action" href="#calculation" data-bs-toggle="list"><i class="fas fa-calculator me-2"></i>Accredit Calculations</a>
                <a class="list-group-item list-group-item-action" href="#utilities" data-bs-toggle="list"><i class="fas fa-tools me-2"></i>Utilities</a>
                <a class="list-group-item list-group-item-action" href="#remote-access" data-bs-toggle="list"><i class="fas fa-cloud me-2"></i>Remote Access</a>
                <a class="list-group-item list-group-item-action" href="#troubleshooting" data-bs-toggle="list"><i class="fas fa-wrench me-2"></i>Troubleshooting</a>
                <a class="list-group-item list-group-item-action" href="#privacy-policy" data-bs-toggle="list"><i class="fas fa-shield-alt me-2"></i>Privacy Policy</a>
                <a class="list-group-item list-group-item-action" href="#terms-of-use" data-bs-toggle="list"><i class="fas fa-gavel me-2"></i>Terms of Use</a>
                <a class="list-group-item list-group-item-action" href="#version-history" data-bs-toggle="list"><i class="fas fa-history me-2"></i>Version History</a>
                <a class="list-group-item list-group-item-action" href="#contact" data-bs-toggle="list"><i class="fas fa-envelope me-2"></i>Contact & Support</a>
            </div>
        </div>

        <div class="col-lg-9">
            <div class="tab-content" id="helpContent">
                <!-- Overview -->
                <div class="tab-pane fade show active" id="overview">
                    <div class="card shadow-sm">
                        <div class="card-header bg-primary text-white">
                            <h4 class="mb-0"><i class="fas fa-info-circle me-2"></i>Accredit Helper Pro - Overview</h4>
                        </div>
                        <div class="card-body">
                            <p class="lead">Welcome to Accredit Helper Pro, your comprehensive tool for managing course data, tracking student performance against learning outcomes, and streamlining the Accred accreditation process.</p>

                            <div class="alert alert-info">
                                <i class="fas fa-lightbulb me-2"></i><strong>What is Accreditation?</strong> Accreditation is a quality assurance process through which educational institutions demonstrate they meet established standards in providing quality education. This application specifically aids in meeting assessment requirements for accreditation processes by tracking student achievement of program outcomes.
                            </div>

                            <h5><i class="fas fa-star me-2"></i>Key Features</h5>
                            <div class="row">
                                <div class="col-md-6">
                                    <ul class="list-group list-group-flush mb-3">
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Program Outcomes (PO)</strong> - Define high-level outcomes aligned with accreditation criteria</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Course Outcomes (CO)</strong> - Create measurable course-specific outcomes linked to POs</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Exam Management</strong> - Organize assessments with flexible weighting systems</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Question-Outcome Mapping</strong> - Link individual questions to specific learning outcomes</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Student Management</strong> - Import and track individual students across courses</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Attendance Tracking</strong> - Record and manage student attendance for exams with automated import</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Student Exclusion Control</strong> - Manually exclude/include specific students from outcome calculations</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>API Functionality</strong> - Access data programmatically via REST endpoints</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Advanced Exam Features</strong> - Support for makeup exams, final exam designation, and mandatory exam attendance</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Advanced API Integration</strong> - Query student scores, outcome data, and more via REST endpoints</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Enhanced Search</strong> - Find specific information across courses with the built-in search functionality</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Data Visualization</strong> - View interactive charts and graphs for outcome achievements</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Course Duplication</strong> - Quickly set up new courses based on existing templates</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Cross-Course Outcomes Analysis</strong> - Advanced program-wide outcome assessment across all courses</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Weighted CO-PO Relationships</strong> - Define how course outcomes contribute to program outcomes</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Graduating Students Management</strong> - Maintain lists of graduating students for MÜDEK filtering and targeted analysis</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Multi-threaded PDF Generation</strong> - Parallel PDF processing up to 6.4x faster with real-time progress tracking</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Playwright PDF Integration</strong> - Reliable, high-quality PDF generation with pixel-perfect rendering</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <ul class="list-group list-group-flush mb-3">
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Score Tracking</strong> - Record and auto-save student performance data</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Automated Calculations</strong> - Get precise outcome achievement metrics</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Custom Achievement Levels</strong> - Define your own performance categories</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Reporting</strong> - Generate accreditation-ready reports and exports</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Data Management</strong> - Backup, restore, merge, and import data seamlessly</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Multiple Calculation Methods</strong> - Choose between absolute and relative achievement models</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Activity Logging</strong> - Track all significant actions within the system</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Batch Operations</strong> - Add and manage multiple questions, outcomes, students (including deletion), and attendance records efficiently</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Mass Association Tool</strong> - Quickly connect multiple questions to outcomes using simple syntax</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>AJAX-based Interface</strong> - Responsive, real-time updates for score entry and attendance tracking</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Secure Remote Access</strong> - Use Cloudflare Tunnel for accessing the application from anywhere</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Multi-course Analysis</strong> - Analyze program outcomes across all courses with optimized performance</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Import Course Outcomes</strong> - Import outcomes from existing courses for consistency</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Mass Edit Outcomes</strong> - Edit multiple outcomes simultaneously</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Student Score Export</strong> - Export detailed student performance data in multiple formats</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Detailed Exam Data Exports</strong> - Export exam structure, questions, outcomes, and scores for analysis or backup</li>
                                    </ul>
                                </div>
                            </div>

                            <h5><i class="fas fa-bolt me-2"></i>Recent Performance & Feature Improvements (V48)</h5>
                            <div class="alert alert-success mb-3">
                                <p class="mb-2"><i class="fas fa-rocket me-2"></i><strong>Major Performance & Reliability Upgrades</strong></p>
                                <ul class="mb-0">
                                    <li><strong>Multi-threaded PDF Generation:</strong> Up to 6.4x faster PDF generation with 1-8 configurable threads and 100% success guarantee</li>
                                    <li><strong>Playwright PDF Integration:</strong> Replaced weasyprint with Playwright for better Windows compatibility and pixel-perfect rendering</li>
                                    <li><strong>Graduating Students Management:</strong> New MÜDEK filtering system for targeted analysis of graduating students</li>
                                    <li><strong>Enhanced Database Migrations:</strong> Automated schema updates and seamless upgrades</li>
                                    <li><strong>Improved Error Handling:</strong> Better retry logic and progress tracking for complex operations</li>
                                    <li><strong>Thread-Safe Operations:</strong> Enhanced multi-threading support throughout the application</li>
                                    <li><strong>Memory Management:</strong> Optimized resource usage for large datasets and multiple concurrent operations</li>
                                    <li><strong>Faster Multi-Course Analysis:</strong> Continued improvements in calculation speed and resource efficiency</li>
                                </ul>
                            </div>

                            <h5><i class="fas fa-users me-2"></i>Who Should Use This Application?</h5>
                            <ul>
                                <li><strong>Faculty Members</strong> - Track student performance and outcome achievement in their courses</li>
                                <li><strong>Department Chairs</strong> - Gather and analyze program-wide outcome data for accreditation</li>
                                <li><strong>Accreditation Coordinators</strong> - Prepare comprehensive reports and documentation</li>
                                <li><strong>Assessment Committees</strong> - Monitor and improve educational quality through data-driven decisions</li>
                                <li><strong>Program Administrators</strong> - Oversee continuous improvement processes with reliable metrics</li>
                            </ul>

                            <h5><i class="fas fa-cogs me-2"></i>Technical Architecture</h5>
                            <p>Accredit Helper Pro is built with a modern technology stack:</p>
                            <ul>
                                <li><strong>Backend</strong>: Python Flask framework with SQLAlchemy ORM</li>
                                <li><strong>Database</strong>: SQLite for portable, file-based data storage</li>
                                <li><strong>Frontend</strong>: Bootstrap 5 with responsive design for all devices</li>
                                <li><strong>Security</strong>: Protected file operations and data validation</li>
                                <li><strong>Remote Access</strong>: Integrated Cloudflare Tunnel support for secure access from any device</li>
                            </ul>

                            <div class="alert alert-success mt-3">
                                <i class="fas fa-map-signs me-2"></i><strong>Navigation Tip:</strong> Use the menu on the left to explore detailed documentation for each feature. If you're new to the application, we recommend starting with the <a href="#getting-started" class="tab-link">Getting Started</a> section.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Getting Started -->
                <div class="tab-pane fade" id="getting-started">
                    <div class="card shadow-sm">
                        <div class="card-header bg-success text-white">
                            <h4 class="mb-0"><i class="fas fa-rocket me-2"></i>Getting Started: Complete Workflow</h4>
                        </div>
                        <div class="card-body">
                            <div class="alert alert-info mb-4">
                                <i class="fas fa-info-circle me-2"></i><strong>Before You Begin:</strong> Ensure you have installed the application following the instructions in the README file. The application should be running at <code>http://localhost:5000</code> in your web browser.
                            </div>

                            <h5><i class="fas fa-sitemap me-2"></i>Understanding the Data Hierarchy</h5>
                            <p>Before diving into the workflow, understanding how data is organized in Accredit Helper Pro is crucial:</p>

                            <div class="card mb-4">
                                <div class="card-body bg-light">
                                    <div class="text-center mb-3"><i class="fas fa-project-diagram fa-3x text-primary"></i></div>
                                    <ul class="list-group list-group-flush">
                                        <li class="list-group-item"><strong>Program Outcomes (POs)</strong> - High-level program goals shared across all courses</li>
                                        <li class="list-group-item"><strong>Courses</strong> - Individual course instances (e.g., CENG301 Fall 2023)</li>
                                        <li class="list-group-item"><strong>Course Outcomes (COs)</strong> - Specific learning goals for a particular course, linked to POs</li>
                                        <li class="list-group-item"><strong>Exams</strong> - Assessment instruments within a course with defined weights</li>
                                        <li class="list-group-item"><strong>Questions</strong> - Individual assessment items, linked to COs</li>
                                        <li class="list-group-item"><strong>Students</strong> - Enrolled in specific course instances</li>
                                        <li class="list-group-item"><strong>Scores</strong> - Student performance on individual questions</li>
                                    </ul>
                                </div>
                            </div>

                            <h5><i class="fas fa-tasks me-2"></i>Step-by-Step Implementation Guide</h5>
                            <p>Follow this comprehensive workflow for setting up and using Accredit Helper Pro:</p>

                            <div class="accordion" id="workflowAccordion">
                                <!-- Step 1 -->
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="headingOne">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                            <strong>Step 1: Define Program Outcomes (POs)</strong>
                                        </button>
                                    </h2>
                                    <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#workflowAccordion">
                                        <div class="accordion-body">
                                            <p>Program Outcomes are the foundation of your assessment system. They represent what graduates should know and be able to do by the time they complete your program.</p>

                                            <ol>
                                                <li>Navigate to <a href="{{ url_for('outcome.list_program_outcomes') }}">Utilities → Program Outcomes</a></li>
                                                <li>Review the default Turkish engineering program outcomes that are pre-loaded</li>
                                                <li>Edit existing outcomes or add new ones to match your program's specific requirements</li>
                                                <li>Ensure each PO has a clear, unique code (e.g., PO1, PO2) and comprehensive description</li>
                                            </ol>

                                            <div class="alert alert-success">
                                                <i class="fas fa-lightbulb me-2"></i><strong>Tip:</strong> POs should align with accreditation requirements for your discipline and program. For engineering programs in Turkey, these typically correspond to MÜDEK criteria.
                                            </div>

                                            <a href="{{ url_for('outcome.list_program_outcomes') }}" class="btn btn-primary">
                                                <i class="fas fa-external-link-alt me-2"></i>Go to Program Outcomes
                                            </a>
                                        </div>
                                    </div>
                                </div>

                                <!-- Step 2 -->
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="headingTwo">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                                            <strong>Step 2: Create a Course</strong>
                                        </button>
                                    </h2>
                                    <div id="collapseTwo" class="accordion-collapse collapse show" aria-labelledby="headingTwo" data-bs-parent="#workflowAccordion">
                                        <div class="accordion-body">
                                            <p>Each course instance represents a specific offering of a course in a particular semester or term.</p>

                                            <ol>
                                                <li>From the <a href="{{ url_for('index') }}">Homepage</a>, click the "Add Course" button</li>
                                                <li>Enter a <strong>Course Code</strong> (e.g., "CENG301") - this should match your institutional code</li>
                                                <li>Provide a descriptive <strong>Course Name</strong> (e.g., "Software Engineering")</li>
                                                <li>Specify the <strong>Semester</strong> (e.g., "Fall 2023" or "2023-2024 Spring")</li>
                                                <li>Click "Save Course" to create your course instance</li>
                                            </ol>

                                            <div class="alert alert-warning">
                                                <i class="fas fa-exclamation-triangle me-2"></i><strong>Important:</strong> Create a separate course instance for each semester or section you teach. For example, "CENG301 Fall 2023" and "CENG301 Spring 2024" would be distinct course instances.
                                            </div>

                                            <a href="{{ url_for('course.add_course') }}" class="btn btn-primary">
                                                <i class="fas fa-plus me-2"></i>Add New Course
                                            </a>
                                        </div>
                                    </div>
                                </div>

                                <!-- Step 3 -->
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="headingThree">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="true" aria-controls="collapseThree">
                                            <strong>Step 3: Define Course Outcomes (COs)</strong>
                                        </button>
                                    </h2>
                                    <div id="collapseThree" class="accordion-collapse collapse show" aria-labelledby="headingThree" data-bs-parent="#workflowAccordion">
                                        <div class="accordion-body">
                                            <p>Course Outcomes are specific, measurable learning objectives for your course. Each CO must be linked to one or more Program Outcomes it supports.</p>

                                            <ol>
                                                <li>From your newly created course's detail page, find the "Course Outcomes" section</li>
                                                <li>Click "Add Course Outcome"</li>
                                                <li>Enter a <strong>Course Outcome Code</strong> (e.g., "CO1") - keep these sequential for clarity</li>
                                                <li>Write a clear, measurable <strong>Description</strong> that begins with an action verb (e.g., "Design software systems using object-oriented principles")</li>
                                                <li><strong>Critical Step:</strong> Select one or more Program Outcomes (POs) that this CO supports</li>
                                                <li>Click "Save" to create the course outcome</li>
                                                <li>Repeat for all course outcomes (typically 5-10 per course)</li>
                                            </ol>

                                            <div class="alert alert-info">
                                                <i class="fas fa-clipboard-list me-2"></i><strong>Example CO-PO Mapping:</strong><br>
                                                CO1: "Apply software testing techniques to validate system requirements" → maps to PO2, PO3<br>
                                                CO2: "Communicate technical information effectively in written reports" → maps to PO7
                                            </div>

                                            <div class="alert alert-danger">
                                                <i class="fas fa-exclamation-circle me-2"></i><strong>Critical:</strong> Each CO must be linked to at least one PO. These linkages are fundamental to the accreditation assessment process.
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Steps 4-8 -->
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="headingFour">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="true" aria-controls="collapseFour">
                                            <strong>Step 4: Add Exams and Set Weights</strong>
                                        </button>
                                    </h2>
                                    <div id="collapseFour" class="accordion-collapse collapse show" aria-labelledby="headingFour" data-bs-parent="#workflowAccordion">
                                        <div class="accordion-body">
                                            <p>Exams represent all assessed activities in your course, including traditional exams, quizzes, projects, and assignments.</p>

                                            <ol>
                                                <li>From the Course Detail page, find the "Exams" section</li>
                                                <li>Click "Add Exam"</li>
                                                <li>Enter a descriptive <strong>Name</strong> (e.g., "Midterm 1", "Final Project", "Quiz 3")</li>
                                                <li>Set the <strong>Max Score</strong> (often 100, but can be any value)</li>
                                                <li>Optionally set an <strong>Exam Date</strong></li>
                                                <li>
                                                    Check appropriate options if applicable:
                                                    <ul>
                                                        <li><strong>Is Final Exam?</strong> Check if this is the official final exam.</li>
                                                        <li><strong>Is Mandatory?</strong> Check if this exam is required for all students. The mandatory exam system excludes students from outcome calculations if they have not completed ANY mandatory exams (including their makeup versions). Students will only be included in calculations if they have a score recorded (even if it's 0) for at least one mandatory exam or its makeup. This helps ensure that outcome achievements reflect only students who actively participated in key assessments.</li>
                                                        <li><strong>Is Makeup Exam?</strong> Check if this is a makeup exam. If checked, you MUST select the original exam it replaces using the "Makeup For" dropdown. Makeup exams inherit the weight of the original exam.</li>
                                                    </ul>
                                                </li>
                                                <li>Save the exam</li>
                                                <li>Repeat for all assessment activities in your course</li>
                                            </ol>

                                            <h6 class="mt-3">Setting Exam Weights:</h6>
                                            <ol>
                                                <li>After creating all exams, click "Manage Weights" in the Exams section</li>
                                                <li>Assign a percentage weight to each exam (e.g., Midterm 1: 30%, Final: 40%, Assignments: 30%)</li>
                                                <li><strong>Important:</strong> Weights must total exactly 100%</li>
                                                <li>Click "Save Weights"</li>
                                            </ol>

                                            <div class="alert alert-warning">
                                                <i class="fas fa-balance-scale me-2"></i><strong>Note:</strong> Exam weights determine how each assessment contributes to the final course grade and outcome calculations. Makeup exams automatically inherit the weight of the original exam they replace.
                                            </div>

                                            <h6 class="mt-3">Managing Makeup Exams:</h6>
                                            <ol>
                                                <li>When creating an exam, check the "Is Makeup Exam?" option and select which exam it replaces</li>
                                                <li>Makeup exams automatically inherit the weight of the original exam they replace</li>
                                                <li>When entering scores, only record scores for students who took the makeup exam</li>
                                                <li>The system automatically uses a student's makeup score if available, otherwise it uses their original exam score</li>
                                                <li>If makeup relationships become inconsistent, use the "Fix Makeup Relations" button in the Exams section to automatically repair them</li>
                                            </ol>

                                            <div class="alert alert-info">
                                                <i class="fas fa-tools me-2"></i><strong>Maintenance Tool:</strong> The "Fix Makeup Relations" feature automatically repairs any inconsistencies in makeup exam relationships, ensuring that calculations work correctly.
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="headingFive">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="true" aria-controls="collapseFive">
                                            <strong>Step 5: Add Questions & Link to Course Outcomes</strong>
                                        </button>
                                    </h2>
                                    <div id="collapseFive" class="accordion-collapse collapse show" aria-labelledby="headingFive" data-bs-parent="#workflowAccordion">
                                        <div class="accordion-body">
                                            <p>Questions are the individual assessment items within each exam. This critical step links specific questions to the Course Outcomes they assess.</p>

                                            <ol>
                                                <li>From the Course Detail page, click on an exam's name to access its detail page</li>
                                                <li>Click "Add Question"</li>
                                                <li>Enter a <strong>Question Number</strong> (e.g., "1", "2a", "3")</li>
                                                <li>Optionally enter <strong>Question Text</strong> for reference</li>
                                                <li>Set the <strong>Max Score</strong> for this specific question (e.g., 10, 25)</li>
                                                <li><strong>Critical Step:</strong> Select the Course Outcome(s) this question assesses</li>
                                                <li>Click "Save Question"</li>
                                                <li>Repeat for all questions in the exam</li>
                                                <li>Repeat this process for all exams in the course</li>
                                            </ol>

                                            <div class="alert alert-secondary mt-3">
                                                <i class="fas fa-layer-group me-2"></i><strong>Batch Operations:</strong> For efficiency, you can use the "Batch Add Questions" feature on the Exam Detail page to create multiple questions at once. See the <a href="#exams" class="tab-link">Exams & Questions</a> section for details. The Mass Association Tool (covered later) is also useful here.
                                            </div>

                                            <div class="alert alert-danger">
                                                <i class="fas fa-link me-2"></i><strong>Critical Mapping:</strong> The link between questions and COs is the foundation of outcome assessment. Each question should be carefully mapped to the specific COs it measures. A question can assess multiple COs if appropriate.
                                            </div>

                                            <div class="alert alert-info">
                                                <i class="fas fa-lightbulb me-2"></i><strong>Tip:</strong> For complex assessments like projects, you might break down the grading rubric into multiple "questions" that each assess different COs.
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="headingSix">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSix" aria-expanded="true" aria-controls="collapseSix">
                                            <strong>Step 6: Add Students to the Course</strong>
                                        </button>
                                    </h2>
                                    <div id="collapseSix" class="accordion-collapse collapse show" aria-labelledby="headingSix" data-bs-parent="#workflowAccordion">
                                        <div class="accordion-body">
                                            <p>Add all students enrolled in your course. The application offers multiple methods for adding students.</p>

                                            <h6>Method 1: Manual Entry</h6>
                                            <ol>
                                                <li>From the Course Detail page, go to the "Students" section</li>
                                                <li>Click "Add Student"</li>
                                                <li>Enter the <strong>Student ID</strong>, <strong>First Name</strong>, and <strong>Last Name</strong></li>
                                                <li>Click "Save Student"</li>
                                                <li>Repeat for each student (recommended only for small classes)</li>
                                            </ol>

                                            <h6>Method 2: Batch Import (Recommended)</h6>
                                            <ol>
                                                <li>From the "Students" section, click "Import Students"</li>
                                                <li>
                                                    Choose one of the supported import formats:
                                                    <pre class="bg-light p-2 mt-2">
11220030102  Name1  Surname
11220030126  Name1 Name2  Surname</pre>
                                                    <pre class="bg-light p-2">
11220030102;Name1;Surname
11220030126;Name1 Name2;Surname</pre>
                                                    <pre class="bg-light p-2">
11220030102	Name1	Surname
11220030102	Name1	Surname

11220030126	Name1 Name2	Surname</pre>
                                                </li>
                                                <li>Copy your student list from a spreadsheet or text file</li>
                                                <li>Paste into the import text area</li>
                                                <li>Review the preview to ensure correct parsing</li>
                                                <li>Click "Import Students"</li>
                                            </ol>

                                            <h6>Method 3: CSV File Upload</h6>
                                            <ol>
                                                <li>Prepare a CSV file with columns for student ID, first name, and last name</li>
                                                <li>From the "Students" section, click "Import Students"</li>
                                                <li>Choose the file upload option</li>
                                                <li>Select your CSV file</li>
                                                <li>Map the columns if necessary</li>
                                                <li>Click "Import"</li>
                                            </ol>

                                            <h6 class="mt-3"><i class="fas fa-user-slash me-2"></i>Managing Student Exclusion</h6>
                                            <p>You can manually exclude specific students from outcome calculations if needed (e.g., students who dropped the course late). From the "Students" list on the Course Detail page, use the "Exclude/Include" toggle next to the student's name. Excluded students will not be counted in the results generated in Step 8.</p>

                                            <h6 class="mt-3"><i class="fas fa-clipboard-check me-2"></i>Tracking Attendance</h6>
                                            <p>Optionally, you can track student attendance for each exam. Access this via the "Manage Attendance" button on the Exam Detail page. Attendance data can be factored into calculations depending on course settings. Batch import of attendance is also available. See the <a href="#student-attendance" class="tab-link">Student Attendance</a> section for details.</p>

                                            <div class="alert alert-info">
                                                <i class="fas fa-file-export me-2"></i><strong>Student Export:</strong> You can export your student list at any time using the "Export Students" button. This creates a CSV file you can open in Excel or other spreadsheet applications.
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="headingSeven">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSeven" aria-expanded="true" aria-controls="collapseSeven">
                                            <strong>Step 7: Enter Student Scores</strong>
                                        </button>
                                    </h2>
                                    <div id="collapseSeven" class="accordion-collapse collapse show" aria-labelledby="headingSeven" data-bs-parent="#workflowAccordion">
                                        <div class="accordion-body">
                                            <p>Record each student's performance on each question of every exam.</p>

                                            <ol>
                                                <li>
                                                    Access the score entry grid in one of two ways:
                                                    <ul>
                                                        <li>From Course Detail → "Students" section → "Enter/Edit Scores" (shows all exams)</li>
                                                        <li>From Exam Detail → "Enter Scores" (shows just that exam)</li>
                                                    </ul>
                                                </li>
                                                <li>The grid displays Students (rows) × Questions (columns)</li>
                                                <li>Enter each student's score for each question</li>
                                                <li>Scores can't exceed the Max Score defined for each question</li>
                                                <li>Scores save automatically as you tab or click to the next cell</li>
                                            </ol>

                                            <div class="alert alert-success">
                                                <i class="fas fa-keyboard me-2"></i><strong>Efficiency Tip:</strong> Use keyboard navigation for faster data entry:
                                                <ul class="mb-0">
                                                    <li>Tab key: Move to next cell</li>
                                                    <li>Shift+Tab: Move to previous cell</li>
                                                    <li>Arrow keys: Navigate between cells</li>
                                                    <li>Enter: Save current cell and move down</li>
                                                </ul>
                                            </div>

                                            <div class="alert alert-warning">
                                                <i class="fas fa-medkit me-2"></i><strong>Makeup Exam Scores:</strong> For makeup exams, only enter scores for students who took the makeup. Leave cells blank for students who took the original exam. The system automatically uses the appropriate score.
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="headingMassAssociation">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseMassAssociation" aria-expanded="true" aria-controls="collapseMassAssociation">
                                            <strong>Advanced Feature: Mass Association Tool</strong>
                                        </button>
                                    </h2>
                                    <div id="collapseMassAssociation" class="accordion-collapse collapse show" aria-labelledby="headingMassAssociation" data-bs-parent="#workflowAccordion">
                                        <div class="accordion-body">
                                            <p>For exams with many questions, mapping each question to course outcomes individually can be time-consuming. The Mass Association Tool allows you to quickly connect multiple questions to outcomes using a simple syntax.</p>

                                            <h6><i class="fas fa-cogs me-2"></i>How to Use the Mass Association Tool</h6>
                                            <ol>
                                                <li>From an Exam's detail page, look for the "Mass Associate Outcomes" button</li>
                                                <li>In the dialog that appears, you'll see a text area where you can enter associations using the following syntax:</li>
                                            </ol>
                                            <pre class="bg-light p-2">q1:co1;q2:co2:co3;q3:co1:co4</pre>
                                            <p>Where:</p>
                                            <ul>
                                                <li><code>q#</code> represents the question number (e.g., q1 is question 1)</li>
                                                <li><code>co#</code> represents the course outcome number (e.g., co1 is CO1)</li>
                                                <li>Use colon <code>:</code> to separate the question from its outcomes</li>
                                                <li>Use multiple colons to associate a question with multiple outcomes</li>
                                                <li>Use semicolon <code>;</code> to separate different question associations</li>
                                            </ul>
                                            <ol start="3">
                                                <li>Click "Apply Associations" to update all question-outcome mappings at once</li>
                                            </ol>

                                            <div class="alert alert-success">
                                                <i class="fas fa-lightbulb me-2"></i><strong>Example:</strong> <code>q1:co1:co2;q2:co3;q3:co1:co3:co4;</code><br>
                                                This will:
                                                <ul class="mb-0">
                                                    <li>Associate Question 1 with Course Outcomes 1 and 2</li>
                                                    <li>Associate Question 2 with Course Outcome 3</li>
                                                    <li>Associate Question 3 with Course Outcomes 1, 3, and 4</li>
                                                </ul>
                                            </div>

                                            <div class="alert alert-warning">
                                                <i class="fas fa-exclamation-triangle me-2"></i><strong>Important:</strong> This tool will replace any existing outcome associations for the questions specified. If you want to keep existing associations, include them in your syntax.
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="headingEight">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseEight" aria-expanded="true" aria-controls="collapseEight">
                                            <strong>Step 8: Calculate Results & Generate Reports</strong>
                                        </button>
                                    </h2>
                                    <div id="collapseEight" class="accordion-collapse collapse show" aria-labelledby="headingEight" data-bs-parent="#workflowAccordion">
                                        <div class="accordion-body">
                                            <p>The final step - calculate outcome achievement levels and generate reports for accreditation purposes.</p>

                                            <ol>
                                                <li>From the Course Detail page, click "Calculate Results"</li>
                                                <li>
                                                    The system processes all the data based on:
                                                    <ul>
                                                        <li>CO-PO relationships you defined</li>
                                                        <li>Question-CO mappings</li>
                                                        <li>Student scores</li>
                                                        <li>Exam weights</li>
                                                    </ul>
                                                </li>
                                                <li>
                                                    Review the comprehensive results page showing:
                                                    <ul>
                                                        <li>Course Outcome (CO) achievement percentages</li>
                                                        <li>Program Outcome (PO) contributions from this course</li>
                                                        <li>Student success rates</li>
                                                        <li>Detailed breakdowns and interactive visualizations (charts/graphs)</li>
                                                    </ul>
                                                </li>
                                                <li>
                                                    Export the results in various formats for reporting and analysis:
                                                    <ul>
                                                        <li><strong>PDF Report:</strong> Formatted summary for accreditation</li>
                                                        <li><strong>CSV/Excel:</strong> Raw calculation data</li>
                                                        <li><strong>Student Score Export:</strong> Detailed performance data per student</li>
                                                        <li><strong>Detailed Exam Data Export:</strong> Full exam structure, questions, outcomes, and scores</li>
                                                    </ul>
                                                </li>
                                            </ol>

                                            <div class="alert alert-info">
                                                <i class="fas fa-cog me-2"></i><strong>Optional Configuration:</strong> Before calculating, you can customize your course's assessment settings:
                                                <ul class="mb-0">
                                                    <li>Define <strong>Achievement Levels</strong> (e.g., Excellent: 90-100%, Good: 75-89%)</li>
                                                    <li>Set <strong>Success Rate Method</strong> (Absolute vs. Relative)</li>
                                                    <li>Customize other calculation parameters</li>
                                                </ul>
                                                Access these settings from the Course Detail page → "Settings" button.
                                            </div>

                                            <div class="alert alert-success">
                                                <i class="fas fa-chart-line me-2"></i><strong>Multiple Calculation Methods:</strong> The system now supports choosing between <strong>Absolute</strong> (average score approach) and <strong>Relative</strong> (percentage of students above threshold) calculation methods. This can be set per course or globally for all courses in the "All Courses" view.
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="headingNine">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseNine" aria-expanded="true" aria-controls="collapseNine">
                                            <strong>Step 9: Use "All Courses" Analysis for Program-Wide Assessment</strong>
                                        </button>
                                    </h2>
                                    <div id="collapseNine" class="accordion-collapse collapse show" aria-labelledby="headingNine" data-bs-parent="#workflowAccordion">
                                        <div class="accordion-body">
                                            <p>For program-level assessment and accreditation reporting, use the powerful "All Courses" analysis feature:</p>

                                            <ol>
                                                <li>From the main navigation, click on "Calculations" → "All Courses"</li>
                                                <li>The system will process all courses and aggregate the program outcome results</li>
                                                <li>Use the sorting options to organize courses by code, name, or semester</li>
                                                <li>Toggle between display methods (Absolute vs. Relative) to see different assessment perspectives</li>
                                                <li>View the comprehensive Program Outcome achievement table across all courses</li>
                                                <li>Export the results for accreditation documentation</li>
                                            </ol>

                                            <div class="alert alert-info">
                                                <i class="fas fa-rocket me-2"></i><strong>Performance Improvement:</strong> The "All Courses" analysis now uses an optimized calculation engine that significantly improves performance when processing multiple courses, especially in programs with large datasets.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="card mt-4">
                                <div class="card-header bg-light">
                                    <h5 class="mb-0"><i class="fas fa-graduation-cap me-2"></i>Quick Start for Returning Users</h5>
                                </div>
                                <div class="card-body">
                                    <p>If you've used Accredit Helper Pro before and want to set up a new semester:</p>
                                    <ol>
                                        <li>Consider using the "Duplicate Course" feature to copy an existing course setup</li>
                                        <li>Update the semester information and review all copied components</li>
                                        <li>Import your new student list</li>
                                        <li>Enter scores as assessments are completed throughout the term</li>
                                        <li>Calculate results at mid-term and end of semester</li>
                                    </ol>
                                </div>
                            </div>

                            <div class="text-center mt-4">
                                <a href="{{ url_for('index') }}" class="btn btn-lg btn-success">
                                    <i class="fas fa-home me-2"></i>Return to Dashboard
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Courses -->
                <div class="tab-pane fade" id="courses">
                    <div class="card shadow-sm">
                        <div class="card-header bg-info text-white">
                            <h4 class="mb-0"><i class="fas fa-book me-2"></i>Managing Courses</h4>
                        </div>
                        <div class="card-body">
                            <p>Courses are the central organizational unit in Accredit Helper Pro. All exams, outcomes, students, and scores are associated with a specific course instance.</p>

                            <div class="card mb-4 border-primary">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="mb-0"><i class="fas fa-plus-circle me-2"></i>Creating & Managing Courses</h5>
                                </div>
                                <div class="card-body">
                                    <h6><i class="fas fa-plus me-2"></i>Adding a New Course</h6>
                                    <ol>
                                        <li>From the <a href="{{ url_for('index') }}">Homepage</a>, click the "Add Course" button.</li>
                                        <li>Enter a unique <strong>Course Code</strong> (e.g., <code>CENG301</code>) that matches your institutional code.</li>
                                        <li>Enter the full <strong>Course Name</strong> (e.g., <code>Software Engineering</code>).</li>
                                        <li>Enter the specific <strong>Semester</strong> or term (e.g., <code>Fall 2023</code>, <code>2023-2024 Spring</code>).</li>
                                        <li>You can also set a <strong>Course Weight</strong> which determines how this course contributes to program-level outcome calculations (default is 1.0).</li>
                                        <li>Click "Save Course". You will be redirected to the new Course Detail page.</li>
                                    </ol>
                                    <div class="alert alert-info mt-2">
                                        <i class="fas fa-info-circle me-2"></i><strong>Semester Format:</strong> While you can enter semesters in any format, using a consistent format helps with sorting. Including the year (e.g., "2023 Fall" or "Fall 2023") enables chronological sorting.
                                    </div>
                                    <a href="{{ url_for('course.add_course') }}" class="btn btn-sm btn-outline-primary mt-2 mb-3"><i class="fas fa-plus"></i> Add New Course</a>

                                    <h6><i class="fas fa-edit me-2"></i>Editing a Course</h6>
                                    <ol>
                                        <li>Navigate to the Course Detail page by clicking on a course name from the homepage.</li>
                                        <li>In the "Course Overview" section, click the "Edit" button.</li>
                                        <li>Modify any of the course properties: Code, Name, Semester, or Course Weight.</li>
                                        <li>Click "Save Changes" to apply your modifications.</li>
                                    </ol>

                                    <h6><i class="fas fa-trash-alt me-2"></i>Deleting a Course</h6>
                                    <ol>
                                        <li>Navigate to the Course Detail page.</li>
                                        <li>In the "Course Overview" section, click the "Delete" button.</li>
                                        <li>Confirm the deletion when prompted.</li>
                                    </ol>
                                    <div class="alert alert-danger mt-2">
                                        <i class="fas fa-exclamation-triangle me-2"></i><strong>Warning:</strong> Deleting a course permanently removes ALL associated data: exams, questions, outcomes, students, and scores. **The application prevents deletion if the course has related Exams, Students, or Course Outcomes.** You must delete this related data first or use the Merge Courses utility. This action cannot be undone. Consider using the "Backup Database" utility before deletion.
                                    </div>
                                </div>
                            </div>

                            <div class="card mb-4 border-success">
                                <div class="card-header bg-success text-white">
                                    <h5 class="mb-0"><i class="fas fa-list-alt me-2"></i>Course Outcomes (COs)</h5>
                                </div>
                                <div class="card-body">
                                    <p>Course Outcomes (COs) are specific, measurable learning objectives for a particular course. Each CO must be linked to one or more Program Outcomes (POs) it supports.</p>

                                    <div class="row">
                                        <div class="col-md-6">
                                            <h6><i class="fas fa-plus me-2"></i>Adding Course Outcomes</h6>
                                            <ol>
                                                <li>Navigate to the Course Detail page</li>
                                                <li>Find the "Course Outcomes" section</li>
                                                <li>Click "Add Course Outcome"</li>
                                                <li>Enter a <strong>Course Outcome Code</strong> (e.g., <code>CO1</code>, <code>CO2</code>)</li>
                                                <li>Write a clear, measurable <strong>Description</strong> that begins with an action verb</li>
                                                <li><span class="text-danger"><strong>Critical Step:</strong></span> Select one or more Program Outcomes (POs) that this CO supports</li>
                                                <li>Assign optional <strong>Weight Values</strong> if using weighted CO-PO relationships</li>
                                                <li>Click "Save"</li>
                                            </ol>

                                            <h6><i class="fas fa-file-import me-2"></i>Importing Course Outcomes</h6>
                                            <ol>
                                                <li>Navigate to the Course Detail page</li>
                                                <li>In the "Course Outcomes" section, click "Import Course Outcomes"</li>
                                                <li>Prepare a CSV file with columns for CO code, description, and PO mappings</li>
                                                <li>Upload the file and verify the column mappings</li>
                                                <li>Preview the outcomes to be imported and confirm</li>
                                                <li>Select import mode: add new only or update existing</li>
                                            </ol>

                                            <h6><i class="fas fa-eye me-2"></i>Viewing Course Outcomes</h6>
                                            <ul>
                                                <li>All COs for a course are listed in the "Course Outcomes" section of the Course Detail page</li>
                                                <li>Each listing shows the CO code, description, and linked POs</li>
                                                <li>Click "View" on any CO to see its complete details, including which exam questions assess it</li>
                                                <li>The CO detail view shows a breakdown of how this outcome is assessed throughout the course</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6">
                                            <h6><i class="fas fa-edit me-2"></i>Editing Course Outcomes</h6>
                                            <ol>
                                                <li>Navigate to the Course Detail page</li>
                                                <li>Find the CO you want to modify in the "Course Outcomes" section</li>
                                                <li>Click the "Edit" button</li>
                                                <li>Update the Code, Description, or PO mappings as needed</li>
                                                <li>Adjust weights for CO-PO relationships if applicable</li>
                                                <li>Click "Save Changes"</li>
                                            </ol>

                                            <h6><i class="fas fa-balance-scale me-2"></i>Weighted CO-PO Relationships</h6>
                                            <p>Weighted relationships allow you to specify how strongly each course outcome supports program outcomes:</p>
                                            <ol>
                                                <li>When creating or editing a CO, you'll see weight options for each PO mapping</li>
                                                <li>Choose from different weight levels: Strong (1.0), Medium (0.7), or Low (0.4)</li>
                                                <li>These weights affect how much each CO contributes to its linked POs in calculations</li>
                                                <li>Higher weights mean the CO has greater influence on the linked PO's overall achievement score</li>
                                                <li>Weights can be adjusted in bulk using the "Mass Edit Outcomes" feature</li>
                                            </ol>
                                            <div class="alert alert-info">
                                                <i class="fas fa-lightbulb me-2"></i><strong>Best Practice:</strong> Use weighted relationships to accurately reflect curriculum alignment with program goals. For example, a database course may strongly support technical POs but have a lower contribution to communication-related POs.
                                            </div>

                                            <h6><i class="fas fa-edit me-2"></i>Mass Editing Outcomes</h6>
                                            <p>Edit multiple course outcomes simultaneously for efficient outcome management:</p>
                                            <ol>
                                                <li>From the Course Detail page, go to the "Course Outcomes" section</li>
                                                <li>Click the "Mass Edit Outcomes" button</li>
                                                <li>From this view, you can:
                                                    <ul>
                                                        <li>Review all COs with their PO connections in a grid view</li>
                                                        <li>Quickly check or uncheck PO associations for each CO</li>
                                                        <li>Adjust the weight of each CO-PO relationship</li>
                                                        <li>Select multiple COs and change their PO mappings together</li>
                                                        <li>Filter COs by existing PO connections</li>
                                                    </ul>
                                                </li>
                                                <li>Click "Save Changes" to apply all modifications at once</li>
                                            </ol>
                                            <div class="alert alert-info">
                                                <i class="fas fa-lightbulb me-2"></i><strong>Time-Saving Tip:</strong> Use this feature after curriculum revisions or when standardizing outcome connections across multiple courses.
                                            </div>

                                            <h6><i class="fas fa-file-import me-2"></i>Importing Course Outcomes</h6>
                                            <p>Import course outcomes from other courses or from a template:</p>
                                            <ol>
                                                <li>From the Course Detail page, go to the "Course Outcomes" section</li>
                                                <li>Click the "Import Outcomes" button</li>
                                                <li>Choose the source:
                                                    <ul>
                                                        <li><strong>From Another Course:</strong> Select a course that already has outcomes defined</li>
                                                        <li><strong>From CSV File:</strong> Upload a properly formatted CSV file with outcome codes, descriptions, and PO mappings</li>
                                                    </ul>
                                                </li>
                                                <li>Select which outcomes to import</li>
                                                <li>Choose how to handle PO mappings (preserve from source or modify during import)</li>
                                                <li>Decide how to handle conflicts with existing outcomes</li>
                                                <li>Click "Import Selected" to add the outcomes to your course</li>
                                            </ol>
                                            <div class="alert alert-warning">
                                                <i class="fas fa-exclamation-triangle me-2"></i><strong>Important:</strong> When importing from another course, ensure the COs are relevant to your current course content. You may need to edit descriptions or PO mappings after import.
                                            </div>

                                            <h6>Deleting COs</h6>
                                            <ol>
                                                <li>Navigate to the Course Detail page</li>
                                                <li>Find the CO you want to remove in the "Course Outcomes" section</li>
                                                <li>Click the "Delete" button</li>
                                                <li>Confirm the deletion</li>
                                            </ol>
                                            <div class="alert alert-danger mt-2">
                                                <i class="fas fa-exclamation-triangle me-2"></i>Deleting a CO will remove all links between this CO and any Questions. Questions linked only to this CO will become "orphaned" (not linked to any CO), which will affect outcome calculations.
                                            </div>
                                        </div>
                                    </div>

                                    <div class="card mt-3 bg-light">
                                        <div class="card-header">
                                            <h6 class="mb-0">Example Course Outcomes & PO Mappings</h6>
                                        </div>
                                        <div class="card-body">
                                            <div class="table-responsive">
                                                <table class="table table-sm table-bordered">
                                                    <thead class="table-secondary">
                                                        <tr>
                                                            <th width="10%">Code</th>
                                                            <th width="50%">Description</th>
                                                            <th width="20%">Mapped to POs</th>
                                                            <th width="20%">Weight Values</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td><code>CO1</code></td>
                                                            <td>Apply object-oriented design principles to create maintainable software systems.</td>
                                                            <td><code>PO1</code>, <code>PO3</code></td>
                                                            <td>0.7, 0.3</td>
                                                        </tr>
                                                        <tr>
                                                            <td><code>CO2</code></td>
                                                            <td>Conduct software testing using appropriate methods to ensure quality.</td>
                                                            <td><code>PO2</code>, <code>PO4</code></td>
                                                            <td>0.5, 0.5</td>
                                                        </tr>
                                                        <tr>
                                                            <td><code>CO3</code></td>
                                                            <td>Communicate software design decisions effectively through documentation and presentations.</td>
                                                            <td><code>PO7</code></td>
                                                            <td>1.0</td>
                                                        </tr>
                                                        <tr>
                                                            <td><code>CO4</code></td>
                                                            <td>Work effectively in a team to develop a software application project.</td>
                                                            <td><code>PO5</code>, <code>PO6</code></td>
                                                            <td>0.6, 0.4</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="alert alert-primary mt-3">
                                        <i class="fas fa-balance-scale me-2"></i><strong>Weighted CO-PO Relationships:</strong> You can now specify the relative contribution of each Course Outcome to its linked Program Outcomes. Weights should sum to 1.0 across all PO relationships for a single CO. If weights are not specified, the system uses uniform distribution (equal weights to all linked POs).
                                    </div>

                                    <div class="alert alert-warning mt-3">
                                        <i class="fas fa-pencil-alt me-2"></i><strong>Writing Effective COs:</strong> Course Outcomes should be SMART: Specific, Measurable, Achievable, Relevant, and Time-bound. Always begin with an action verb that indicates the level of cognitive skill required (e.g., "analyze," "design," "evaluate," not "understand" or "learn").
                                    </div>
                                </div>
                            </div>

                            <div class="card mb-4 border-info">
                                <div class="card-header bg-info text-white">
                                    <h5 class="mb-0"><i class="fas fa-project-diagram me-2"></i>Understanding the Outcome Hierarchy</h5>
                                </div>
                                <div class="card-body">
                                    <p>The relationship between different components in the system is critical for accurate accreditation assessment:</p>

                                    <div class="row align-items-center">
                                        <div class="col-md-8">
                                            <div class="card bg-light">
                                                <div class="card-body">
                                                    <h6 class="text-center">Outcome Assessment Flow</h6>
                                                    <div class="d-flex justify-content-center mt-3 mb-3">
                                                        <div class="text-center me-3">
                                                            <div style="border: 2px solid #6c757d; border-radius: 5px; padding: 10px; width: 120px;">
                                                                <strong>Exam Questions</strong>
                                                            </div>
                                                            <div style="padding-top: 5px; padding-bottom: 5px;">
                                                                <i class="fas fa-arrow-down"></i><br>
                                                                <small>assess</small>
                                                            </div>
                                                        </div>
                                                        <div class="text-center me-3">
                                                            <div style="border: 2px solid #28a745; border-radius: 5px; padding: 10px; width: 120px;">
                                                                <strong>Course Outcomes<br>(COs)</strong>
                                                            </div>
                                                            <div style="padding-top: 5px; padding-bottom: 5px;">
                                                                <i class="fas fa-arrow-down"></i><br>
                                                                <small>support</small>
                                                            </div>
                                                        </div>
                                                        <div class="text-center">
                                                            <div style="border: 2px solid #007bff; border-radius: 5px; padding: 10px; width: 120px;">
                                                                <strong>Program Outcomes<br>(POs)</strong>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <ul class="list-group">
                                                <li class="list-group-item list-group-item-secondary"><strong>Questions</strong> are individual assessment items on exams, quizzes, and assignments</li>
                                                <li class="list-group-item list-group-item-success"><strong>COs</strong> are specific to a course and are assessed by exam questions</li>
                                                <li class="list-group-item list-group-item-primary"><strong>POs</strong> span across the curriculum and are supported by multiple COs from different courses</li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="alert alert-danger mt-4">
                                        <i class="fas fa-exclamation-circle me-2"></i><strong>Critical for Accreditation:</strong> This hierarchical structure is fundamental to accreditation assessment. Ensure all connections are properly established:
                                        <ul class="mb-0">
                                            <li>Every CO must be linked to at least one PO</li>
                                            <li>Every exam question must be linked to at least one CO</li>
                                            <li>All POs should be supported by multiple COs across different courses</li>
                                        </ul>
                                    </div>

                                    <div class="alert alert-success mt-3">
                                        <i class="fas fa-check-circle me-2"></i><strong>Best Practice:</strong> When setting up a new course, define the Course Outcomes and their PO mappings first, before creating exams and questions. This ensures a clear assessment plan aligned with program goals.
                                        <br><i class="fas fa-link me-2"></i><strong>Efficiency Tip:</strong> For linking many questions to outcomes efficiently, refer to the <a href="#exams" class="tab-link">Mass Association Tool</a> described in the Exams & Questions section.
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-info mt-3">
                                <i class="fas fa-link me-2"></i><strong>Related Sections:</strong>
                                <ul class="mb-0">
                                    <li>See <a href="#outcomes" class="tab-link">Outcomes</a> for more on defining Course Outcomes and linking them to Program Outcomes.</li>
                                    <li>See <a href="#exams" class="tab-link">Exams & Questions</a> for more on creating assessments and linking questions to outcomes.</li>
                                    <li>See <a href="#students" class="tab-link">Students & Scores</a> for more on student management and score entry.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Outcomes -->
                <div class="tab-pane fade" id="outcomes">
                    <div class="card shadow-sm">
                        <div class="card-header bg-warning text-dark">
                            <h4 class="mb-0"><i class="fas fa-bullseye me-2"></i>Managing Outcomes (POs & COs)</h4>
                        </div>
                        <div class="card-body">
                            <div class="alert alert-primary">
                                <i class="fas fa-info-circle me-2"></i><strong>Outcome-Based Education:</strong> Outcomes are the foundation of modern accreditation systems. They define what graduates should know and be able to do. The application distinguishes between program-level outcomes (POs) that span across courses and course-specific outcomes (COs) that are assessed within a particular course.
                            </div>

                            <div class="card mb-4 border-primary">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="mb-0"><i class="fas fa-sitemap me-2"></i>Program Outcomes (POs)</h5>
                                </div>
                                <div class="card-body">
                                    <p>Program Outcomes (POs) are high-level competencies that students should achieve by the end of their educational program. In Turkish engineering programs, these are typically aligned with MÜDEK criteria.</p>

                                    <div class="row">
                                        <div class="col-md-6">
                                            <h6><i class="fas fa-binoculars me-2"></i>Viewing Program Outcomes</h6>
                                            <ol>
                                                <li>Navigate to <a href="{{ url_for('utility.index') }}">Utilities</a> → <a href="{{ url_for('outcome.list_program_outcomes') }}">Program Outcomes</a></li>
                                                <li>View the complete list of defined POs with their codes and descriptions</li>
                                                <li>Click "View" on any PO to see details, including which Course Outcomes map to it</li>
                                                <li>View a visual representation of how each PO is supported across different courses</li>
                                            </ol>

                                            <h6><i class="fas fa-plus me-2"></i>Adding a New Program Outcome</h6>
                                            <ol>
                                                <li>Navigate to <a href="{{ url_for('outcome.list_program_outcomes') }}">Program Outcomes</a></li>
                                                <li>Click "Add Program Outcome"</li>
                                                <li>Enter a unique <strong>PO Code</strong> (e.g., <code>PO1</code>, <code>PO11</code>)</li>
                                                <li>Enter a comprehensive <strong>Description</strong> that clearly states what graduates should be able to do</li>
                                                <li>Click "Save"</li>
                                            </ol>
                                        </div>
                                        <div class="col-md-6">
                                            <h6><i class="fas fa-edit me-2"></i>Editing Program Outcomes</h6>
                                            <ol>
                                                <li>Navigate to <a href="{{ url_for('outcome.list_program_outcomes') }}">Program Outcomes</a></li>
                                                <li>Find the PO you want to modify</li>
                                                <li>Click the "Edit" button</li>
                                                <li>Update the Code or Description as needed</li>
                                                <li>Click "Save Changes"</li>
                                            </ol>

                                            <h6><i class="fas fa-trash-alt me-2"></i>Deleting Program Outcomes</h6>
                                            <ol>
                                                <li>Navigate to <a href="{{ url_for('outcome.list_program_outcomes') }}">Program Outcomes</a></li>
                                                <li>Find the PO you want to remove</li>
                                                <li>Click the "Delete" button</li>
                                                <li>Confirm the deletion</li>
                                            </ol>
                                            <div class="alert alert-danger mt-2">
                                                <i class="fas fa-exclamation-triangle me-2"></i>Deleting a PO will remove all links between this PO and any Course Outcomes. Course Outcomes linked only to this PO will become "orphaned" (not linked to any PO), which may affect calculations.
                                            </div>
                                        </div>
                                    </div>

                                    <div class="card mt-3 bg-light">
                                        <div class="card-header">
                                            <h6 class="mb-0">Example Program Outcomes</h6>
                                        </div>
                                        <div class="card-body">
                                            <table class="table table-sm table-bordered">
                                                <thead class="table-secondary">
                                                    <tr>
                                                        <th width="15%">Code</th>
                                                        <th>Description</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td><code>PO1</code></td>
                                                        <td>Ability to apply knowledge of mathematics, science, and engineering principles to solve complex engineering problems.</td>
                                                    </tr>
                                                    <tr>
                                                        <td><code>PO2</code></td>
                                                        <td>Ability to design and conduct experiments, analyze and interpret data to draw valid conclusions.</td>
                                                    </tr>
                                                    <tr>
                                                        <td><code>PO3</code></td>
                                                        <td>Ability to design a system, component, or process to meet desired needs within realistic constraints.</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>

                                    <div class="alert alert-info mt-3">
                                        <i class="fas fa-lightbulb me-2"></i><strong>Default POs:</strong> The application comes pre-loaded with default Program Outcomes based on common Turkish engineering accreditation criteria. You can use these as-is or modify them to match your specific program requirements.
                                    </div>

                                    <a href="{{ url_for('outcome.list_program_outcomes') }}" class="btn btn-primary mt-3">
                                        <i class="fas fa-list me-2"></i>View & Manage Program Outcomes
                                    </a>
                                </div>
                            </div>

                            <div class="card mb-4 border-success">
                                <div class="card-header bg-success text-white">
                                    <h5 class="mb-0"><i class="fas fa-list-alt me-2"></i>Course Outcomes (COs)</h5>
                                </div>
                                <div class="card-body">
                                    <p>Course Outcomes (COs) are specific, measurable learning objectives for a particular course. Each CO must be linked to one or more Program Outcomes (POs) it supports.</p>

                                    <div class="row">
                                        <div class="col-md-6">
                                            <h6><i class="fas fa-plus me-2"></i>Adding Course Outcomes</h6>
                                            <ol>
                                                <li>Navigate to the Course Detail page</li>
                                                <li>Find the "Course Outcomes" section</li>
                                                <li>Click "Add Course Outcome"</li>
                                                <li>Enter a <strong>Course Outcome Code</strong> (e.g., <code>CO1</code>, <code>CO2</code>)</li>
                                                <li>Write a clear, measurable <strong>Description</strong> that begins with an action verb</li>
                                                <li><span class="text-danger"><strong>Critical Step:</strong></span> Select one or more Program Outcomes (POs) that this CO supports</li>
                                                <li>Assign optional <strong>Weight Values</strong> if using weighted CO-PO relationships</li>
                                                <li>Click "Save"</li>
                                            </ol>

                                            <h6><i class="fas fa-file-import me-2"></i>Importing Course Outcomes</h6>
                                            <ol>
                                                <li>Navigate to the Course Detail page</li>
                                                <li>In the "Course Outcomes" section, click "Import Course Outcomes"</li>
                                                <li>Prepare a CSV file with columns for CO code, description, and PO mappings</li>
                                                <li>Upload the file and verify the column mappings</li>
                                                <li>Preview the outcomes to be imported and confirm</li>
                                                <li>Select import mode: add new only or update existing</li>
                                            </ol>

                                            <h6><i class="fas fa-eye me-2"></i>Viewing Course Outcomes</h6>
                                            <ul>
                                                <li>All COs for a course are listed in the "Course Outcomes" section of the Course Detail page</li>
                                                <li>Each listing shows the CO code, description, and linked POs</li>
                                                <li>Click "View" on any CO to see its complete details, including which exam questions assess it</li>
                                                <li>The CO detail view shows a breakdown of how this outcome is assessed throughout the course</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6">
                                            <h6><i class="fas fa-edit me-2"></i>Editing Course Outcomes</h6>
                                            <ol>
                                                <li>Navigate to the Course Detail page</li>
                                                <li>Find the CO you want to modify in the "Course Outcomes" section</li>
                                                <li>Click the "Edit" button</li>
                                                <li>Update the Code, Description, or PO mappings as needed</li>
                                                <li>Adjust weights for CO-PO relationships if applicable</li>
                                                <li>Click "Save Changes"</li>
                                            </ol>

                                            <h6><i class="fas fa-edit me-2"></i>Mass Editing Outcomes</h6>
                                            <ol>
                                                <li>From the Course Detail page, click "Mass Edit Outcomes" in the Course Outcomes section</li>
                                                <li>View all outcomes in a spreadsheet-like interface</li>
                                                <li>Edit multiple outcome descriptions, codes, and PO mappings at once</li>
                                                <li>Adjust weights for multiple CO-PO relationships simultaneously</li>
                                                <li>Click "Save All Changes" when finished</li>
                                            </ol>

                                            <h6><i class="fas fa-trash-alt me-2"></i>Deleting Course Outcomes</h6>
                                            <ol>
                                                <li>Navigate to the Course Detail page</li>
                                                <li>Find the CO you want to remove in the "Course Outcomes" section</li>
                                                <li>Click the "Delete" button</li>
                                                <li>Confirm the deletion</li>
                                            </ol>
                                            <div class="alert alert-danger mt-2">
                                                <i class="fas fa-exclamation-triangle me-2"></i>Deleting a CO will remove all links between this CO and any Questions. Questions linked only to this CO will become "orphaned" (not linked to any CO), which will affect outcome calculations.
                                            </div>
                                        </div>
                                    </div>

                                    <div class="card mt-3 bg-light">
                                        <div class="card-header">
                                            <h6 class="mb-0">Example Course Outcomes & PO Mappings</h6>
                                        </div>
                                        <div class="card-body">
                                            <div class="table-responsive">
                                                <table class="table table-sm table-bordered">
                                                    <thead class="table-secondary">
                                                        <tr>
                                                            <th width="10%">Code</th>
                                                            <th width="50%">Description</th>
                                                            <th width="20%">Mapped to POs</th>
                                                            <th width="20%">Weight Values</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td><code>CO1</code></td>
                                                            <td>Apply object-oriented design principles to create maintainable software systems.</td>
                                                            <td><code>PO1</code>, <code>PO3</code></td>
                                                            <td>0.7, 0.3</td>
                                                        </tr>
                                                        <tr>
                                                            <td><code>CO2</code></td>
                                                            <td>Conduct software testing using appropriate methods to ensure quality.</td>
                                                            <td><code>PO2</code>, <code>PO4</code></td>
                                                            <td>0.5, 0.5</td>
                                                        </tr>
                                                        <tr>
                                                            <td><code>CO3</code></td>
                                                            <td>Communicate software design decisions effectively through documentation and presentations.</td>
                                                            <td><code>PO7</code></td>
                                                            <td>1.0</td>
                                                        </tr>
                                                        <tr>
                                                            <td><code>CO4</code></td>
                                                            <td>Work effectively in a team to develop a software application project.</td>
                                                            <td><code>PO5</code>, <code>PO6</code></td>
                                                            <td>0.6, 0.4</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="alert alert-primary mt-3">
                                        <i class="fas fa-balance-scale me-2"></i><strong>Weighted CO-PO Relationships:</strong> You can now specify the relative contribution of each Course Outcome to its linked Program Outcomes. Weights should sum to 1.0 across all PO relationships for a single CO. If weights are not specified, the system uses uniform distribution (equal weights to all linked POs).
                                    </div>

                                    <div class="alert alert-warning mt-3">
                                        <i class="fas fa-pencil-alt me-2"></i><strong>Writing Effective COs:</strong> Course Outcomes should be SMART: Specific, Measurable, Achievable, Relevant, and Time-bound. Always begin with an action verb that indicates the level of cognitive skill required (e.g., "analyze," "design," "evaluate," not "understand" or "learn").
                                    </div>
                                </div>
                            </div>

                            <div class="card mb-4 border-info">
                                <div class="card-header bg-info text-white">
                                    <h5 class="mb-0"><i class="fas fa-project-diagram me-2"></i>Understanding the Outcome Hierarchy</h5>
                                </div>
                                <div class="card-body">
                                    <p>The relationship between different components in the system is critical for accurate accreditation assessment:</p>

                                    <div class="row align-items-center">
                                        <div class="col-md-8">
                                            <div class="card bg-light">
                                                <div class="card-body">
                                                    <h6 class="text-center">Outcome Assessment Flow</h6>
                                                    <div class="d-flex justify-content-center mt-3 mb-3">
                                                        <div class="text-center me-3">
                                                            <div style="border: 2px solid #6c757d; border-radius: 5px; padding: 10px; width: 120px;">
                                                                <strong>Exam Questions</strong>
                                                            </div>
                                                            <div style="padding-top: 5px; padding-bottom: 5px;">
                                                                <i class="fas fa-arrow-down"></i><br>
                                                                <small>assess</small>
                                                            </div>
                                                        </div>
                                                        <div class="text-center me-3">
                                                            <div style="border: 2px solid #28a745; border-radius: 5px; padding: 10px; width: 120px;">
                                                                <strong>Course Outcomes<br>(COs)</strong>
                                                            </div>
                                                            <div style="padding-top: 5px; padding-bottom: 5px;">
                                                                <i class="fas fa-arrow-down"></i><br>
                                                                <small>support</small>
                                                            </div>
                                                        </div>
                                                        <div class="text-center">
                                                            <div style="border: 2px solid #007bff; border-radius: 5px; padding: 10px; width: 120px;">
                                                                <strong>Program Outcomes<br>(POs)</strong>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <ul class="list-group">
                                                <li class="list-group-item list-group-item-secondary"><strong>Questions</strong> are individual assessment items on exams, quizzes, and assignments</li>
                                                <li class="list-group-item list-group-item-success"><strong>COs</strong> are specific to a course and are assessed by exam questions</li>
                                                <li class="list-group-item list-group-item-primary"><strong>POs</strong> span across the curriculum and are supported by multiple COs from different courses</li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="alert alert-danger mt-4">
                                        <i class="fas fa-exclamation-circle me-2"></i><strong>Critical for Accreditation:</strong> This hierarchical structure is fundamental to accreditation assessment. Ensure all connections are properly established:
                                        <ul class="mb-0">
                                            <li>Every CO must be linked to at least one PO</li>
                                            <li>Every exam question must be linked to at least one CO</li>
                                            <li>All POs should be supported by multiple COs across different courses</li>
                                        </ul>
                                    </div>

                                    <div class="alert alert-success mt-3">
                                        <i class="fas fa-check-circle me-2"></i><strong>Best Practice:</strong> When setting up a new course, define the Course Outcomes and their PO mappings first, before creating exams and questions. This ensures a clear assessment plan aligned with program goals.
                                        <br><i class="fas fa-link me-2"></i><strong>Efficiency Tip:</strong> For linking many questions to outcomes efficiently, refer to the <a href="#exams" class="tab-link">Mass Association Tool</a> described in the Exams & Questions section.
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-info mt-3">
                                <i class="fas fa-link me-2"></i><strong>Related Sections:</strong>
                                <ul class="mb-0">
                                    <li>See <a href="#exams" class="tab-link">Exams & Questions</a> for details on linking questions to Course Outcomes.</li>
                                    <li>See <a href="#calculation" class="tab-link">Calculations</a> to understand how CO achievement and PO contribution are calculated.</li>
                                </ul>
                            </div>

                            <div class="card mb-4 border-warning">
                                <div class="card-header bg-warning text-dark">
                                    <h5 class="mb-0"><i class="fas fa-calculator me-2"></i>Outcome Calculation Methods</h5>
                                </div>
                                <div class="card-body">
                                    <p>Accredit Helper Pro offers two different methods for calculating outcome achievement levels, which can be selected in the Course Settings. The results are often presented with <a href="#calculation" class="tab-link">charts and visualizations</a> for easier interpretation.</p>

                                    <div class="row">
                                        <div class="col-md-6">
                                            <h6><i class="fas fa-percentage me-2"></i>Absolute Method</h6>
                                            <p>In the absolute method, outcome achievement is calculated as the average of all student scores for questions linked to the outcome.</p>
                                            <ul>
                                                <li><strong>Course Outcome (CO) Achievement:</strong> The average score of all students across all questions linked to that CO, weighted by question max scores and exam weights.</li>
                                                <li><strong>Program Outcome (PO) Contribution:</strong> The average of all CO scores that are linked to that PO.</li>
                                                <li><strong>Best For:</strong> Getting an overall view of class performance regardless of passing thresholds.</li>
                                            </ul>
                                            <div class="alert alert-info">
                                                <i class="fas fa-info-circle me-2"></i>Example: If students average 78% on questions linked to CO1, then CO1's achievement is 78%.
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <h6><i class="fas fa-users me-2"></i>Relative Method</h6>
                                            <p>In the relative method, outcome achievement is calculated as the percentage of students who achieved the success threshold for questions linked to the outcome.</p>
                                            <ul>
                                                <li><strong>Course Outcome (CO) Achievement:</strong> The percentage of students who scored at or above the threshold on questions linked to that CO.</li>
                                                <li><strong>Program Outcome (PO) Contribution:</strong> The percentage of students who achieved the threshold for COs linked to that PO.</li>
                                                <li><strong>Success Threshold:</strong> Typically set to 60% but can be adjusted in Course Settings.</li>
                                                <li><strong>Best For:</strong> Accreditation reports that focus on the percentage of students achieving competency.</li>
                                            </ul>
                                            <div class="alert alert-info">
                                                <i class="fas fa-info-circle me-2"></i>Example: If 85% of students score above the threshold on questions linked to CO1, then CO1's achievement is 85%.
                                            </div>
                                        </div>
                                    </div>

                                    <div class="alert alert-success mt-3">
                                        <i class="fas fa-lightbulb me-2"></i><strong>Pro Tip:</strong> The calculation method significantly impacts your outcome achievement results. Choose the method that best aligns with your program's accreditation requirements. Many institutions prefer the relative method for accreditation purposes because it clearly shows the percentage of students achieving competency.
                                    </div>
                                    
                                    <div class="alert alert-warning mt-3">
                                        <i class="fas fa-exclamation-triangle me-2"></i><strong>Important Note:</strong> Students who have not taken any mandatory exams are automatically excluded from outcome calculations. This ensures that your results reflect only active participants in the course.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Exams & Questions -->
                <div class="tab-pane fade" id="exams">
                    <div class="card shadow-sm">
                        <div class="card-header bg-secondary text-white">
                            <h4 class="mb-0"><i class="fas fa-file-alt me-2"></i>Managing Exams & Questions</h4>
                        </div>
                        <div class="card-body">
                            <p>Exams represent any graded assessment within a course. Questions are the individual items within those exams.</p>

                            <h6>Managing Exams</h6>
                            <p>Exams are managed from the Course Detail page.</p>
                            <ol>
                                <li>Go to the desired Course Detail page.</li>
                                <li>In the "Exams" section, click "Add Exam".</li>
                                <li><strong>Name:</strong> Give the exam a descriptive name (e.g., <code>Midterm 1</code>, <code>Final Exam</code>, <code>Homework 2</code>, <code>Quiz 3</code>).</li>
                                <li><strong>Max Score:</strong> Enter the total possible score for the entire exam (e.g., <code>100</code>). <em>Note: This is informational; calculations primarily use individual question max scores.</em></li>
                                <li><strong>Exam Date:</strong> Optional, for informational purposes.</li>
                                <li>
                                    <strong>Type Flags:</strong>
                                    <ul>
                                        <li><strong>Is Final Exam?</strong> Check if this is the official final exam.</li>
                                        <li><strong>Is Mandatory?</strong> Check if this exam is required for all students. The mandatory exam system excludes students from outcome calculations if they have not completed ANY mandatory exams (including their makeup versions). Students will only be included in calculations if they have a score recorded (even if it's 0) for at least one mandatory exam or its makeup. This helps ensure that outcome achievements reflect only students who actively participated in key assessments.</li>
                                        <li><strong>Is Makeup Exam?</strong> Check if this is a makeup exam. If checked, you MUST select the original exam it replaces using the "Makeup For" dropdown. Makeup exams inherit the weight of the original exam.</li>
                                    </ul>
                                </li>
                                <li>Click "Save Exam".</li>
                            </ol>
                            <p>Edit or delete exams using the buttons next to them on the Course Detail page. Deleting an exam also deletes all its questions and associated scores.</p>
                            <div class="alert alert-danger mt-2"><i class="fas fa-skull-crossbones me-1"></i> Deleting an exam permanently removes its questions and scores.</div>

                            <div id="exams-mandatory-logic-detail" class="alert alert-info mt-3">
                                <i class="fas fa-exclamation-circle me-2"></i><strong>Understanding Mandatory Exams:</strong> The "Is Mandatory" flag serves an important role in outcome calculations. When an exam is marked as mandatory:
                                <ol>
                                    <li>Students who have zero scores (or no scores) on <strong>all</strong> mandatory exams <strong>and</strong> their makeup versions will be excluded from outcome calculations</li>
                                    <li>This ensures that only students who participated in key assessments are included in your outcome achievement statistics</li>
                                    <li>Typically used for exams that all enrolled students are expected to take (like midterms and finals)</li>
                                    <li>Not marking any exams as mandatory will include all students in calculations, regardless of participation</li>
                                </ol>
                            </div>

                            <h6 class="mt-4">Managing Multiple Exams Overview</h6>
                            <p>For a consolidated view of all exams within a course, including their types (regular, makeup), weights, and mandatory status, you can use the "Manage Exams" page. Access this page from the course detail view.</p>
                            <ul>
                                <li>Provides a quick overview of all assessments.</li>
                                <li>Allows easy comparison of exam settings.</li>
                                <li>Includes a link to the "Fix Makeup Relations" utility.</li>
                            </ul>

                            <h6 class="mt-4">Fixing Makeup Exam Relations</h6>
                            <p>If makeup exam relationships become inconsistent (e.g., a makeup exam isn't correctly linked to its original exam), you can use the "Fix Makeup Relations" utility. This tool attempts to automatically link makeup exams to their original counterparts based on naming conventions (e.g., finding "Midterm 1" for an exam named "Midterm 1 Makeup").</p>
                            <ul>
                                <li>Accessed from the "Manage Exams" page.</li>
                                <li>Useful if you create makeup exams before their originals or change exam names.</li>
                            </ul>

                            <h6>Managing Questions</h6>
                            <p>Questions are added/edited within a specific exam.</p>
                            <ol>
                                <li>Go to the Course Detail page, find the exam in the "Exams" list, and click on its name to go to the Exam Detail page.</li>
                                <li>Click "Add Question".</li>
                                <li><strong>Number:</strong> Assign a unique number or identifier for the question within this exam (e.g., <code>1</code>, <code>2a</code>, <code>3</code>).</li>
                                <li><strong>Text (Optional):</strong> You can paste the question text here for reference.</li>
                                <li><strong>Max Score:</strong> Enter the maximum points possible for this specific question (e.g., <code>10</code>, <code>25</code>). This is crucial for weighting within outcome calculations.</li>
                                <li id="exams-questions-link"><strong>Link to Course Outcomes (COs):</strong> This is the most critical step for Accredit calculations. Select the Course Outcome(s) that this specific question assesses. A question can assess multiple COs.</li>
                                <li>Click "Save Question".</li>
                            </ol>
                            <p>Edit or delete questions using the buttons on the Exam Detail page. Deleting a question also deletes all student scores associated with it.</p>
                            <div class="alert alert-warning mt-2"><i class="fas fa-exclamation-triangle me-1"></i> Ensure the sum of Max Scores for all questions in an exam reasonably relates to the overall Exam Max Score, but the individual question Max Scores are what drive the outcome calculations. Linking questions to COs is essential.</div>
                            
                            <h6 class="mt-4">Batch Question Operations</h6>
                            <p>For more efficient question management, especially for exams with many questions, Accredit Helper Pro offers powerful batch operations:</p>
                            
                            <div class="card mb-4 bg-light">
                                <div class="card-header">
                                    <h6 class="mb-0"><i class="fas fa-plus-square me-2"></i>Batch Add Questions</h6>
                                </div>
                                <div class="card-body">
                                    <ol>
                                        <li>From an Exam's detail page, click the "Batch Add Questions" button</li>
                                        <li>Specify the number of questions you want to create (up to 100)</li>
                                        <li>For each question, enter:
                                            <ul>
                                                <li>Question text (optional)</li>
                                                <li>Maximum score</li>
                                                <li>Course outcomes to associate</li>
                                            </ul>
                                        </li>
                                        <li>Use the "Distribute Points Equally" button to automatically divide the exam's total points among all questions</li>
                                        <li>Use "Mark All Outcomes" or "Unmark All Outcomes" buttons for quick selection</li>
                                        <li>Click "Save All Questions" to create all questions at once</li>
                                    </ol>
                                    <div class="alert alert-success">
                                        <i class="fas fa-lightbulb me-2"></i><strong>Time-Saving Tip:</strong> This feature is especially useful for standardized exams where you've already designed the assessment structure.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card mb-4 bg-light">
                                <div class="card-header">
                                    <h6 class="mb-0"><i class="fas fa-project-diagram me-2"></i>Mass Association Tool</h6>
                                </div>
                                <div class="card-body">
                                    <p>The Mass Association Tool allows you to quickly connect multiple questions to outcomes using a simple text format:</p>
                                    <pre class="bg-light p-2">q1:co1:co3:co5;q2:co2;q3:co3:co4</pre>
                                    <p>Where:</p>
                                    <ul>
                                        <li><code>q1</code> is question 1</li>
                                        <li><code>co1</code> is course outcome 1</li>
                                        <li>Use colons (<code>:</code>) to separate questions from outcomes and to list multiple outcomes</li>
                                        <li>Use semicolons (<code>;</code>) to separate different question mappings</li>
                                    </ul>
                                    <p>This feature can be accessed:</p>
                                    <ul>
                                        <li>During batch question creation in the "Mass Import Relationships" section</li>
                                        <li>From the Exam Detail page via the "Mass Associate Outcomes" button</li>
                                    </ul>
                                    <div class="alert alert-warning">
                                        <i class="fas fa-exclamation-triangle me-2"></i><strong>Important:</strong> This feature will replace existing outcome associations for the specified questions. Include all desired associations in your import syntax.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card mb-4 bg-light">
                                <div class="card-header">
                                    <h6 class="mb-0"><i class="fas fa-file-export me-2"></i>Exporting Exam Data</h6>
                                </div>
                                <div class="card-body">
                                    <p>Accredit Helper Pro offers several export options for exam-related data:</p>
                                    <ul>
                                        <li><strong>Export All Exams:</strong> From the Course Detail page, click "Export Exams" in the Exams section to download a CSV file containing:
                                            <ul>
                                                <li>All exam details (name, max score, date, question count)</li>
                                                <li>Makeup exam relationships</li>
                                                <li>Exam weights</li>
                                                <li>Achievement levels</li>
                                                <li>Course outcomes summary</li>
                                            </ul>
                                        </li>
                                        <li><strong>Export Exam Scores:</strong> From any Exam Detail page, click "Export Scores" to download a CSV file containing:
                                            <ul>
                                                <li>Student details</li>
                                                <li>Individual question scores</li>
                                                <li>Total scores and percentages</li>
                                            </ul>
                                        </li>
                                        <li><strong>Export Questions and Outcomes:</strong> From the Exam Detail page, click "Export Questions" to download a CSV file with question details and their linked outcomes.</li>
                                    </ul>
                                    <div class="alert alert-success">
                                        <i class="fas fa-lightbulb me-2"></i><strong>Pro Tip:</strong> These exports are Excel-compatible and can be used for backup, documentation, and external analysis.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Students & Scores -->
                <div class="tab-pane fade" id="students">
                    <div class="card shadow-sm">
                        <div class="card-header" style="background-color: #6f42c1; color: white;">
                            <h4 class="mb-0"><i class="fas fa-user-graduate me-2"></i>Managing Students & Scores</h4>
                        </div>
                        <div class="card-body">
                            <p>Manage the list of students enrolled in a course and their performance on exam questions.</p>

                            <h6>Managing Students</h6>
                            <p>Students are managed within a specific course. Access student management options from the "Students" section of the Course Detail page.</p>
                            <ul>
                                <li><strong>Add Student Manually:</strong> Click "Add Student". Enter Student ID, First Name, and Last Name.</li>
                                <li><strong>Add Multiple Students (Paste):</strong> Click "Add/Paste Students". Paste a list of students (e.g., from Excel) typically in `Student ID`, `First Name`, `Last Name` format (tab or comma-separated). Verify the preview before saving.</li>
                                <li id="students-import">
                                    <strong>Import Students from CSV:</strong> Click "Import Students".
                                    <ol>
                                        <li>Prepare a CSV file with columns like <code>student_id</code>, <code>first_name</code>, <code>last_name</code> (header row is recommended).</li>
                                        <li>Choose the file and upload it.</li>
                                        <li>The system will attempt to match columns. Review and confirm the import.</li>
                                        <li>Choose import mode: "Add new students only" or "Add new and update existing students".</li>
                                    </ol>
                                </li>
                                <li><strong>View/Edit/Delete Students:</strong> Use the list view on the Course Detail page. Click "Edit" or "Delete" next to a student's name. Deleting a student also removes all their scores for that course.</li>
                                <li><strong>Export Students:</strong> Click "Export Students" to get a CSV file of the current student list for the course.</li>
                                <li><strong>Batch Delete Students:</strong> Click "Batch Delete" to enter batch delete mode. Select multiple students using checkboxes, then click "Delete Selected" to remove them in one operation.</li>
                                <li><strong>Student Exclusion:</strong> Toggle a student's inclusion in calculations by clicking the "Exclude" button (or "Include" to reverse). Excluded students won't be counted in course outcome calculations, which is useful for students who dropped the course or have special circumstances. <strong class="text-danger">Note:</strong> Students may also be automatically excluded if they have no scores recorded for any mandatory exams (or their makeups). See the <a href="#exams-mandatory-logic-detail" class="tab-link">Mandatory Exam Logic</a> details in the Exams section.</li>
                            </ul>

                            <h6 id="student-attendance">Managing Student Attendance</h6>
                            <p>Track which students attended each exam:</p>
                            <ul>
                                <li><strong>Access Attendance:</strong> From the Exam Detail page, click "Manage Attendance".</li>
                                <li><strong>Mark Attendance:</strong> Toggle the attendance switch for each student. Changes save automatically.</li>
                                <li><strong>Bulk Actions:</strong> Use "All" or "None" buttons to quickly mark all students as attended or not attended.</li>
                                <li><strong>Import Attendance:</strong> Upload CSV files containing attendance records with student IDs and attendance status.</li>
                            </ul>
                            <div class="alert alert-info">
                                <i class="fas fa-info-circle me-2"></i><strong>Note:</strong> Attendance records, along with recorded scores, are crucial for the mandatory exam logic. Students marked as not attending a mandatory exam (and having no score) might contribute to automatic exclusion from outcome calculations if they miss all mandatory assessments. See the <a href="#exams-mandatory-logic-detail" class="tab-link">Mandatory Exam Logic</a> details in the Exams section for specifics.
                            </div>

                            <h6 id="students-scores">Entering/Editing Scores</h6>
                            <p>Recording student scores accurately is vital.</p>
                            <ol>
                                <li>
                                    Access the score entry grid:
                                    <ul>
                                        <li>From the Course Detail page -> "Students" section -> "Enter/Edit Scores" button (shows all exams).</li>
                                        <li>From the Exam Detail page -> "Enter Scores" button (shows only questions for that exam).</li>
                                    </ul>
                                </li>
                                <li>The grid displays students as rows and questions as columns.</li>
                                <li>Enter the score each student received for each question in the corresponding cell.</li>
                                <li>Scores should not exceed the "Max Score" defined for that question. The interface may provide validation.</li>
                                <li>Scores are saved automatically as you enter them - you'll see a confirmation indicator when data is saved.</li>
                                <li>You can navigate the grid using keyboard arrows and Tab for efficient data entry.</li>
                                <li><strong>Mass Import Scores:</strong> Use the "Import Scores" button on the score entry page to upload scores from a CSV file.</li>
                            </ol>
                            <div class="alert alert-info mt-2"><i class="fas fa-keyboard me-1"></i> The score entry grid is designed for efficiency. Use keyboard navigation for faster input.</div>

                            <h6>Handling Make-up Exam Scores</h6>
                            <p>When entering scores for a make-up exam, only enter scores for the students who actually took the make-up. Leave the score blank for students who took the original exam. The calculation engine will automatically use the make-up score if available, otherwise it uses the original exam score.</p>
                        </div>
                    </div>
                </div>

                <!-- Accredit Calculations -->
                <div class="tab-pane fade" id="calculation">
                    <div class="card shadow-sm">
                        <div class="card-header bg-info text-white">
                            <h4 class="mb-0"><i class="fas fa-calculator me-2"></i>Accredit Calculations</h4>
                        </div>
                        <div class="card-body">
                            <div class="alert alert-primary">
                                <i class="fas fa-info-circle me-2"></i><strong>What Are Accredit Calculations?</strong> These are automated analyses that determine how well students are achieving the defined learning outcomes at both the course level (COs) and program level (POs).
                            </div>

                            <h5 class="mt-4"><i class="fas fa-sync-alt me-2"></i>Recent Performance Improvements</h5>
                            <div class="card mb-4 border-success">
                                <div class="card-header bg-success text-white">
                                    <h5 class="mb-0"><i class="fas fa-bolt me-2"></i>Optimized Calculation System</h5>
                                </div>
                                <div class="card-body">
                                    <p>The calculation system has been significantly enhanced to improve performance and consistency:</p>
                                    <ul>
                                        <li><strong>Efficient Multi-Course Analysis:</strong> The "All Courses" analysis now uses a centralized calculation function that computes each course's results once and reuses them for program-wide aggregation.</li>
                                        <li><strong>Reduced Database Queries:</strong> Optimized data loading minimizes database hits, especially when processing large numbers of courses.</li>
                                        <li><strong>Consistent Makeup Exam Handling:</strong> Improved synchronization of makeup exam weights with their original exams ensures calculation accuracy.</li>
                                        <li><strong>Standardized Student Exclusion Logic:</strong> Enhanced handling of student exclusions based on mandatory exam attendance applies consistently across all calculation methods.</li>
                                        <li><strong>Unified Calculation Core:</strong> Single-course and all-courses views now share the same core calculation logic, ensuring consistent results regardless of where you view the data.</li>
                                    </ul>
                                    <div class="alert alert-info">
                                        <i class="fas fa-lightbulb me-2"></i><strong>Benefit:</strong> These improvements provide faster performance, more consistent results, and better memory usage, especially when working with multiple courses or large datasets.
                                    </div>
                                </div>
                            </div>

                            <h5><i class="fas fa-cogs me-2"></i>Calculation Methods</h5>
                            <p>The system supports two primary calculation methods for outcome achievement:</p>

                            <h6>Running Calculations</h6>
                            <ol>
                                <li>Ensure all necessary data is entered: Course Outcomes linked to Program Outcomes, Exams created with Weights, Questions linked to Course Outcomes, Students added, and Scores entered.</li>
                                <li>Navigate to the Course Detail page for the course you want to assess.</li>
                                <li>Click the "Calculate Results" button.</li>
                                <li>The system will process the scores based on the links and settings you've defined.</li>
                                <li>You will be redirected to the Calculation Results page.</li>
                            </ol>

                            <h6>Understanding the Results Page</h6>
                            <p>The results page typically presents several key pieces of information:</p>
                            <ul>
                                <li>
                                    <strong>Course Outcome (CO) Achievement:</strong>
                                    <ul>
                                        <li>Shows each CO defined for the course.</li>
                                        <li>Calculates an average achievement level (usually as a percentage) for each CO.</li>
                                        <li><strong>Calculation Method:</strong> For a given CO, the system finds all questions linked to it across all exams. For each linked question, it calculates the average score achieved by all students `(Sum of student scores / (Number of students * Question Max Score)) * 100`. The overall CO achievement is often a weighted average of these question averages, potentially weighted by the max points of the questions.</li>
                                        <li>Results might be displayed using the custom <a href="#course-settings">Achievement Levels</a> (e.g., Excellent, Good) defined in Course Settings.</li>
                                    </ul>
                                </li>
                                <li>
                                    <strong>Program Outcome (PO) Contribution:</strong>
                                    <ul>
                                        <li>Shows the POs that are linked to the COs of this course.</li>
                                        <li>Calculates the contribution of this course towards the achievement of each linked PO.</li>
                                        <li><strong>Calculation Method (Absolute):</strong> This is the simple average of the achievement scores of all contributing COs linked to this PO.</li>
                                        <li><strong>Calculation Method (Relative):</strong> This is the percentage of students whose average score across contributing COs meets or exceeds the success threshold.</li>
                                    </ul>
                                </li>
                                <li>
                                    <strong>Course Success Rate:</strong>
                                    <ul>
                                        <li>Calculates the percentage of students deemed "successful" in the course based on the method selected in <a href="#course-settings">Course Settings</a> (Absolute or Relative).</li>
                                        <li>Shows the number of successful vs. unsuccessful students.</li>
                                    </ul>
                                </li>
                                <li><strong>Student Performance Summary (Optional):</strong> May include a table showing each student's overall weighted score/grade and potentially their achievement status against key outcomes.</li>
                                <li><strong>Charts & Visualizations:</strong> May include bar charts or other graphics to visually represent outcome achievement levels.</li>
                            </ul>

                            <h6>Advanced Calculation Features</h6>
                            <ul>
                                <li>
                                    <strong>Makeup Exam Handling:</strong>
                                    <ul>
                                        <li>The system automatically uses the makeup exam score if a student attended the makeup exam.</li>
                                        <li>Makeup exams inherit the weight of their original exams in overall calculations.</li>
                                        <li>Students who attended neither the original exam nor its makeup may be excluded from calculations based on course settings.</li>
                                    </ul>
                                </li>
                                <li>
                                    <strong>Mandatory Exam Settings & Student Exclusion:</strong>
                                    <ul>
                                        <li>Students manually marked as "Excluded" on the Students page are always removed from calculations first.</li>
                                        <li>Exams can be marked as "Mandatory". If mandatory exams are defined, any remaining student who did not attend (or has no score for) <strong>at least one</strong> mandatory exam <strong>and</strong> its corresponding makeup exam (if one exists) will also be automatically excluded from outcome calculations.</li>
                                        <li>This ensures results reflect only active participants who completed critical assessments.</li>
                                        <li>If no exams are marked mandatory, only manually excluded students are removed.</li>
                                        <li><strong>Note:</strong> Courses themselves can be excluded from program-level aggregation via the "Exclude Course from Reports" option in <a href="#course-settings" class="tab-link">Course Settings</a>.</li>
                                    </ul>
                                </li>
                                <li>
                                    <strong>Precision Control:</strong>
                                    <ul>
                                        <li>The system uses Decimal type for calculations to ensure consistent precision and avoid floating-point errors.</li>
                                        <li>Achievement level boundaries are carefully handled to ensure scores exactly at boundary values are properly categorized.</li>
                                    </ul>
                                </li>
                                <li>
                                    <strong>Debugging Tools:</strong>
                                    <ul>
                                        <li>Access detailed calculation breakdowns using the "Debug Calculations" feature (available on the calculation results page).</li>
                                        <li>View step-by-step calculations for individual students (including their raw exam scores, weighted score, CO/PO scores, and exclusion status/reason), exams, and outcomes.</li>
                                        <li>Identify and resolve issues with weights, linking, or score entry.</li>
                                    </ul>
                                </li>
                                <li>
                                    <strong>Cross-Course Outcomes Analysis:</strong>
                                    <ul>
                                        <li><strong>Purpose:</strong> Track and analyze the same program outcomes across multiple courses to identify patterns in student achievement.</li>
                                        <li><strong>Access:</strong> From the "All Courses" calculation view, click the "Cross-Course Analysis" button.</li>
                                        <li><strong>Key Features:</strong>
                                            <ul>
                                                <li><strong>Outcome Progression:</strong> See how student achievement for specific program outcomes develops across different courses.</li>
                                                <li><strong>Comparative Analysis:</strong> Compare achievement levels of the same outcomes across different semesters, prerequisites, or related courses.</li>
                                                <li><strong>Time-Series Visualization:</strong> Track outcome achievement trends over multiple semesters or years.</li>
                                                <li><strong>Custom Grouping:</strong> Group and filter courses by semester, year, or instructor to identify contextual factors.</li>
                                                <li><strong>Exportable Reports:</strong> Generate comprehensive reports for accreditation bodies showing outcome achievement progression.</li>
                                            </ul>
                                        </li>
                                        <li><strong>Usage:</strong> Select the program outcomes you want to analyze, choose the courses to include, and customize your view by applying filters for semesters, years, or other criteria.</li>
                                    </ul>
                                </li>
                            </ul>

                            <h6>Exporting Results</h6>
                            <p>The results page usually provides options to export the analysis:</p>
                            <ul>
                                <li><strong>PDF Report:</strong> Generates a formatted PDF document summarizing the CO and PO achievements, success rate, and potentially charts. Suitable for inclusion in accreditation reports.</li>
                                <li><strong>CSV/Excel Export:</strong> Exports the raw calculation data (e.g., achievement percentages per outcome) for further analysis in other tools.</li>
                                <li><strong>Student Results Export:</strong> Generate detailed reports of individual student performance against course outcomes.</li>
                                <li><strong>Course Exams Export:</strong> Export structured data about exams, questions, and their connections to course outcomes.</li>
                            </ul>
                            
                            <h6>Multi-Course Analysis ("All Courses" View)</h6>
                            <p>The "All Courses" view provides program-level insights:</p>
                            <ul>
                                <li>Aggregates results across multiple non-excluded courses to show program-wide achievement of Program Outcomes.</li>
                                <li>Calculates the average PO achievement across courses using a <strong>weighted average</strong> based on the `course.course_weight` set for each contributing course.</li>
                                <li>Visualizes contributions of individual courses to each Program Outcome.</li>
                                <li>Identifies patterns and areas for improvement across the curriculum.</li>
                                <li>Uses the same optimized calculation core as single-course views to ensure consistency.</li>
                            </ul>
                            <div class="alert alert-success mt-2"><i class="fas fa-check-circle me-1"></i> Regularly running calculations and reviewing the results provides valuable feedback for continuous improvement of the course and program.</div>

                            <div class="alert alert-secondary mt-3">
                                <i class="fas fa-balance-scale me-2"></i><strong>Note on Exam Weights:</strong> While it's best practice to ensure exam weights sum to 100% on the "Manage Weights" page, the calculation engine is resilient. If weights don't sum to 100%, they will be automatically normalized during calculation (scaled proportionally so they do sum to 100%) to ensure accurate relative contributions. If no weights are defined at all, exams will be weighted equally.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Utilities -->
                <div class="tab-pane fade" id="utilities">
                    <div class="card shadow-sm">
                        <div class="card-header" style="background-color: #fd7e14; color: white;">
                            <h4 class="mb-0"><i class="fas fa-tools me-2"></i>Utilities: Data Management & More</h4>
                        </div>
                        <div class="card-body">
                            <p>The Utilities section provides essential tools for managing your application data and accessing logs.</p>
                            <a href="{{ url_for('utility.index') }}" class="btn btn-sm btn-outline-primary mb-3"><i class="fas fa-cog"></i> Go to Utilities Index</a>

                            <h5 class="mt-4"><i class="fas fa-cloud me-2"></i>Remote Access with Cloudflared</h5>
                            <ul>
                                <li><strong>Purpose:</strong> Access your Accredit Helper Pro instance from anywhere.</li>
                                <li><strong>Secure Cloud Integration:</strong> Uses Cloudflare's secure tunnel technology</li>
                                <li><strong>Share with Colleagues:</strong> Generate a secure public URL for collaboration</li>
                                <li><strong>Remote Access:</strong> Use your application from any device with internet</li>
                                <li><strong>Simple Setup:</strong> Just install cloudflared and run with the <code>--cloud</code> flag</li>
                            </ul>
                            <div class="alert alert-info">
                                <i class="fas fa-info-circle me-2"></i>For detailed instructions on setting up and using cloudflared,
                                <a href="{{ url_for('utility.cloud_help_page') }}" class="alert-link">visit our dedicated Remote Access guide</a>.
                            </div>

                            <h5 class="mt-4"><i class="fas fa-code me-2"></i>API Integration</h5>
                            <ul>
                                <li><strong>Purpose:</strong> Programmatically access and integrate your accreditation data with other systems.</li>
                                <li>
                                    <strong>Available Endpoints:</strong>
                                    <ul>
                                        <li><code>/api/exam/{exam_id}/question-outcomes</code> - Get all questions for an exam with their associated course outcomes</li>
                                        <li><code>/api/student/{student_id}/abet-scores?course_id={course_id}</code> - Get a student's achievement scores for all course outcomes</li>
                                        <li><code>/api/batch-add-questions/{exam_id}</code> - Add multiple questions at once</li>
                                        <li><code>/api/mass-associate-outcomes</code> - Associate multiple questions with course outcomes using simple syntax</li>
                                        <li><code>/api/update-question-outcome</code> - Update connections between questions and outcomes</li>
                                        <li><code>/api/course/{course_id}/achievement-levels</code> - Get achievement level definitions for a course</li>
                                    </ul>
                                </li>
                                <li><strong>Data Format:</strong> All API endpoints return data in JSON format</li>
                                <li><strong>Authentication:</strong> Currently intended for local use; implement your own authentication if exposed externally</li>
                                <li><strong>Use Cases:</strong> Integration with your LMS, custom reporting tools, or department-wide dashboards</li>
                            </ul>
                            <div class="alert alert-warning">
                                <i class="fas fa-exclamation-triangle me-2"></i><strong>Security Note:</strong> The API does not implement authentication by default. If you expose the application outside your local network, consider implementing additional security measures.
                            </div>

                            <h5 class="mt-4"><i class="fas fa-download me-2"></i>Backup Database</h5>
                            <ul>
                                <li><strong>Purpose:</strong> Create a safe copy of your entire application database (`accredit_data.db`).</li>
                                <li>
                                    <strong>Features:</strong>
                                    <ul>
                                        <li>Add custom descriptions to backups</li>
                                        <li>Automatic timestamps</li>
                                        <li>View backup history</li>
                                        <li>Download backup files</li>
                                    </ul>
                                </li>
                                <li><strong>When to Use:</strong> Before making significant changes, at the end of each term, or regularly to ensure data safety.</li>
                                <li><strong>Access:</strong> Utilities → Backup Database</li>
                            </ul>

                            <h5 class="mt-4"><i class="fas fa-upload me-2"></i>Restore Database</h5>
                            <ul>
                                <li><strong>Purpose:</strong> Recover your database from a previously created backup.</li>
                                <li>
                                    <strong>Features:</strong>
                                    <ul>
                                        <li>View all available backups with timestamps and descriptions</li>
                                        <li>Automatic backup of current database before restore (safety measure)</li>
                                        <li>Full database restoration</li>
                                    </ul>
                                </li>
                                <li><strong>When to Use:</strong> After accidental data deletion, when recovering from errors, or when rolling back to a previous state.</li>
                                <li><strong>Access:</strong> Utilities → Restore Database</li>
                            </ul>

                            <h5 class="mt-4"><i class="fas fa-file-import me-2"></i>Import Database</h5>
                            <ul>
                                <li><strong>Purpose:</strong> Import and merge data from backup files without replacing existing data.</li>
                                <li>
                                    <strong>Features:</strong>
                                    <ul>
                                        <li>Select specific data types to import (courses, students, exams, etc.)</li>
                                        <li>Preview changes before importing</li>
                                        <li>Automatic backup of current database before import (safety measure)</li>
                                        <li>Detailed import summary showing added records and any conflicts</li>
                                    </ul>
                                </li>
                                <li><strong>When to Use:</strong> When adding new data from another database instance, migrating courses from a colleague, or consolidating data from multiple sources.</li>
                                <li><strong>Access:</strong> Utilities → Import Database</li>
                            </ul>

                            <h5 class="mt-4"><i class="fas fa-object-group me-2"></i>Merge Courses</h5>
                            <ul>
                                <li><strong>Purpose:</strong> Combine data from multiple related courses into a single course.</li>
                                <li>
                                    <strong>Features:</strong>
                                    <ul>
                                        <li>Merge students and scores</li>
                                        <li>Combine assessment data</li>
                                        <li>Preview of changes before execution</li>
                                    </ul>
                                </li>
                                <li><strong>When to Use:</strong> When combining different sections of the same course, or consolidating historical data.</li>
                                <li><strong>Access:</strong> Utilities → Merge Courses</li>
                            </ul>

                            <h5 class="mt-4"><i class="fas fa-list-alt me-2"></i>System Logs</h5>
                            <ul>
                                <li><strong>Purpose:</strong> Track and review system activities and changes made in the application.</li>
                                <li>
                                    <strong>Features:</strong>
                                    <ul>
                                        <li>Filter logs by action type</li>
                                        <li>Filter by date range</li>
                                        <li>Export log data</li>
                                        <li>Color-coded action types for easy identification</li>
                                        <li>Paginated results for improved performance</li>
                                    </ul>
                                </li>
                                <li>
                                    <strong>Log Action Types:</strong>
                                    <ul>
                                        <li><span class="badge bg-success">ADD</span> - Creation of new items (courses, students, exams, etc.)</li>
                                        <li><span class="badge bg-info">EDIT</span> - Modification of existing items</li>
                                        <li><span class="badge bg-danger">DELETE</span> - Removal of items from the database</li>
                                        <li><span class="badge bg-warning">IMPORT</span> - Data import operations</li>
                                        <li><span class="badge bg-primary">BACKUP/RESTORE</span> - Database backup and restore operations</li>
                                        <li><span class="badge bg-secondary">OTHER</span> - Other system operations</li>
                                    </ul>
                                </li>
                                <li><strong>When to Use:</strong> When troubleshooting issues, tracking changes, or generating activity reports.</li>
                                <li><strong>Access:</strong> Utilities → System Logs</li>
                            </ul>

                            <h5 class="mt-4"><i class="fas fa-life-ring me-2"></i>Support & Feedback</h5>
                            <ul>
                                <li><strong>Purpose:</strong> Report issues, submit feature requests, and get assistance with Accredit Helper Pro.</li>
                                <li>
                                    <strong>Features:</strong>
                                    <ul>
                                        <li>Submit bug reports and error notifications</li>
                                        <li>Request new features or enhancements</li>
                                        <li>Provide general feedback on your experience</li>
                                        <li>Contact the development team directly</li>
                                    </ul>
                                </li>
                                <li><strong>When to Use:</strong> When you encounter issues, have suggestions for improvements, or need assistance with specific functionality.</li>
                                <li><strong>Access:</strong> Utilities → Support & Feedback or Help → Contact & Support section</li>
                            </ul>

                            </li>
                            <li>
                                <strong>Simultaneous Access:</strong>
                                <ul>
                                    <li>Ensure only one instance of the application is running</li>
                                    <li>Close any database browser tools that might be accessing the file</li>
                                </ul>
                            </li>
                            <li>
                                <strong>Permission Issues:</strong>
                                <ul>
                                    <li>Ensure the application has read/write permissions to the <code>instance</code> directory</li>
                                    <li>Run the application with appropriate permissions</li>
                                </ul>
                            </li>
                            </ul>
                        </div>
                    </div>

                    <div class="card mb-3">
                        <div class="card-header bg-light">
                            <h6 class="mb-0">Missing or Unexpected Data</h6>
                        </div>
                        <div class="card-body">
                            <p><strong>Symptoms:</strong> Courses, exams, or students that should be present are missing, or data appears incorrect.</p>

                            <p><strong>Possible Causes & Solutions:</strong></p>
                            <ul>
                                <li>
                                    <strong>Accidental Deletion:</strong>
                                    <ul>
                                        <li>Restore from a recent backup if available</li>
                                        <li>Check the system logs for deletion actions: Utilities → View Logs</li>
                                    </ul>
                                </li>
                                <li>
                                    <strong>Wrong Database File:</strong>
                                    <ul>
                                        <li>Ensure you're using the correct database file (particularly if you use multiple databases)</li>
                                        <li>Check the backup list to verify which database is currently active</li>
                                    </ul>
                                </li>
                                <li>
                                    <strong>Data Import Issues:</strong>
                                    <ul>
                                        <li>If data appears after an import operation, verify the import settings were correct</li>
                                        <li>You may need to restore from a pre-import backup and retry with different settings</li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Privacy Policy -->
                <div class="tab-pane fade" id="privacy-policy">
                    <div class="card shadow-sm">
                        <div class="card-header bg-secondary text-white">
                            <h4 class="mb-0"><i class="fas fa-shield-alt me-2"></i>Privacy Policy</h4>
                        </div>
                        <div class="card-body">
                            <p class="lead">This Privacy Policy describes how your data is collected, used, and shared when you use Accredit Helper Pro.</p>

                            <div class="alert alert-info mb-4">
                                <i class="fas fa-info-circle me-2"></i><strong>Last Updated:</strong> 12 April 2025
                            </div>

                            <h5><i class="fas fa-database me-2"></i>Information We Collect</h5>
                            <p>Accredit Helper Pro is designed to operate locally on your machine and within your institutional environment. The application collects and stores the following information:</p>
                            <ul>
                                <li><strong>Course Information:</strong> Course codes, names, descriptions, and semester data</li>
                                <li><strong>Student Information:</strong> Student IDs, names, and academic performance data</li>
                                <li><strong>Assessment Data:</strong> Exam scores, questions, and assessment criteria</li>
                                <li><strong>Program and Course Outcomes:</strong> Learning objectives and performance metrics</li>
                                <li><strong>Application Logs:</strong> Actions performed within the application for auditing purposes</li>
                            </ul>

                            <h5><i class="fas fa-server me-2"></i>Data Storage and Security</h5>
                            <p>Accredit Helper Pro stores all data in a local SQLite database on your computer or institutional server. We implement reasonable security measures to protect the personal information collected:</p>
                            <ul>
                                <li>All data is stored locally within your institutional environment</li>
                                <li>No data is transmitted to external servers unless explicitly initiated by the user</li>
                                <li>Automatic database backups are created before significant operations</li>
                                <li>Access to the application should be controlled through your institutional IT policies</li>
                            </ul>

                            <h5><i class="fas fa-share-alt me-2"></i>Information Sharing</h5>
                            <p>We do not share your data with third parties. The data you enter into Accredit Helper Pro remains within your local environment and under your control. Any data sharing would only occur if:</p>
                            <ul>
                                <li>You explicitly export data for accreditation or reporting purposes</li>
                                <li>You share database backups with colleagues or IT support</li>
                                <li>You are required to do so by law or institutional policy</li>
                            </ul>

                            <h5><i class="fas fa-cookie me-2"></i>Cookies and Tracking</h5>
                            <p>Accredit Helper Pro does not use cookies or tracking technologies to collect information about your usage. As a locally-installed application, it does not employ web tracking mechanisms.</p>

                            <h5><i class="fas fa-user-shield me-2"></i>Data Retention</h5>
                            <p>You control how long data is retained within Accredit Helper Pro. The application will keep your data until you choose to delete it. We recommend implementing your institutional data retention policies regarding student records.</p>

                            <h5><i class="fas fa-globe me-2"></i>International Data Transfer</h5>
                            <p>Since Accredit Helper Pro operates locally within your environment, no international data transfers occur through our software. If you choose to move your data across jurisdictions, you are responsible for compliance with applicable laws.</p>

                            <h5><i class="fas fa-child me-2"></i>Children's Privacy</h5>
                            <p>Accredit Helper Pro is intended for use by educational institutions and faculty members. It is not designed for use by individuals under 18 years of age. We do not knowingly collect data from children under 18.</p>

                            <h5><i class="fas fa-balance-scale me-2"></i>Your Rights</h5>
                            <p>Depending on your location, you may have rights regarding your personal data. These might include:</p>
                            <ul>
                                <li>The right to access personal data we hold about you</li>
                                <li>The right to have your data corrected or deleted</li>
                                <li>The right to object to processing of your data</li>
                                <li>The right to withdraw consent</li>
                            </ul>
                            <p>Since you control the application and its data directly, most of these rights can be exercised through the application interface.</p>

                            <h5><i class="fas fa-file-contract me-2"></i>Legal Basis for Processing</h5>
                            <p>Educational institutions may process data in Accredit Helper Pro under various legal bases:</p>
                            <ul>
                                <li><strong>Legitimate Interest:</strong> Processing necessary for accreditation and educational quality assurance</li>
                                <li><strong>Legal Obligation:</strong> Compliance with educational standards and regulations</li>
                                <li><strong>Consent:</strong> Where applicable, with appropriate disclosures to students</li>
                                <li><strong>Contractual Necessity:</strong> Fulfilling educational service agreements</li>
                            </ul>
                            <p>Institutions should consult their legal departments to ensure appropriate legal basis for their specific use cases.</p>

                            <h5><i class="fas fa-pencil-alt me-2"></i>Changes to This Privacy Policy</h5>
                            <p>We may update this privacy policy from time to time to reflect changes in our practices or for other operational, legal, or regulatory reasons. Updates will be provided with new versions of the software.</p>

                            <h5><i class="fas fa-envelope me-2"></i>Contact Us</h5>
                            <p>If you have questions about this Privacy Policy or your data within Accredit Helper Pro, please contact your institution's administrator or IT department.</p>

                            <div class="alert alert-warning mt-3">
                                <i class="fas fa-exclamation-triangle me-2"></i><strong>Disclaimer:</strong> This privacy policy is provided as a template and should be reviewed by your institution's legal department before deployment to ensure compliance with local laws and regulations.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Terms of Use -->
                <div class="tab-pane fade" id="terms-of-use">
                    <div class="card shadow-sm">
                        <div class="card-header bg-secondary text-white">
                            <h4 class="mb-0"><i class="fas fa-gavel me-2"></i>Terms of Use</h4>
                        </div>
                        <div class="card-body">
                            <p class="lead">These Terms of Use govern your use of Accredit Helper Pro. By using the application, you agree to these terms.</p>

                            <div class="alert alert-info mb-4">
                                <i class="fas fa-info-circle me-2"></i><strong>Last Updated:</strong> 12 April 2025
                            </div>

                            <h5><i class="fas fa-file-signature me-2"></i>Acceptance of Terms</h5>
                            <p>By accessing or using Accredit Helper Pro, you agree to be bound by these Terms of Use. If you disagree with any part of these terms, you may not use the application.</p>

                            <h5><i class="fas fa-user-lock me-2"></i>User Responsibilities</h5>
                            <p>When using Accredit Helper Pro, you agree to:</p>
                            <ul>
                                <li>Use the application in compliance with all applicable laws and regulations</li>
                                <li>Ensure you have appropriate rights to enter and store the data you input</li>
                                <li>Maintain the confidentiality of student data in accordance with privacy laws (e.g., FERPA in the US)</li>
                                <li>Implement appropriate security measures to protect the application and its data</li>
                                <li>Create regular backups of your database</li>
                                <li>Keep the software updated with the latest version when available</li>
                            </ul>

                            <h5><i class="fas fa-laptop-code me-2"></i>Software License</h5>
                            <p>Accredit Helper Pro is provided under the terms of the license included with the software. This license grants you the right to:</p>
                            <ul>
                                <li>Install and use the application within your educational institution</li>
                                <li>Make copies of the software for backup purposes</li>
                                <li>Use the software for educational and accreditation purposes</li>
                            </ul>
                            <p>You may not:</p>
                            <ul>
                                <li>Distribute the software to third parties outside your institution without permission</li>
                                <li>Modify, reverse engineer, or create derivative works of the software</li>
                                <li>Remove or alter any copyright notices or attributions</li>
                                <li>Use the software for commercial purposes beyond its intended educational use</li>
                            </ul>

                            <h5><i class="fas fa-exclamation-circle me-2"></i>Disclaimer of Warranties</h5>
                            <p>Accredit Helper Pro is provided "as is" without warranty of any kind, either express or implied, including, but not limited to, the implied warranties of merchantability and fitness for a particular purpose. The developers do not warrant that:</p>
                            <ul>
                                <li>The functions contained in the software will meet your specific requirements</li>
                                <li>The operation of the software will be uninterrupted or error-free</li>
                                <li>Defects in the software will be corrected</li>
                            </ul>
                            <p>The entire risk as to the quality and performance of the software is with you. Should the software prove defective, you assume the cost of all necessary servicing, repair, or correction.</p>

                            <h5><i class="fas fa-hand-paper me-2"></i>Limitation of Liability</h5>
                            <p>In no event shall the developers of Accredit Helper Pro be liable for any damages whatsoever (including, without limitation, damages for loss of business profits, business interruption, loss of business information, or any other pecuniary loss) arising out of the use or inability to use this software, even if the developers have been advised of the possibility of such damages.</p>

                            <h5><i class="fas fa-database me-2"></i>Data Ownership and Privacy</h5>
                            <p>All data entered into Accredit Helper Pro remains your property and under your control. The application developers do not claim ownership of your data and cannot access it unless you explicitly share it. Your use of the application is also governed by our <a href="#privacy-policy" class="tab-link">Privacy Policy</a>.</p>

                            <h5><i class="fas fa-sync-alt me-2"></i>Updates and Changes</h5>
                            <p>We reserve the right to:</p>
                            <ul>
                                <li>Update the software to add features, fix bugs, or improve security</li>
                                <li>Modify these Terms of Use at any time</li>
                                <li>Change or discontinue features of the application</li>
                            </ul>
                            <p>We will attempt to notify users of significant changes to these terms or the software functionality through release notes or other appropriate channels.</p>

                            <h5><i class="fas fa-file-export me-2"></i>Data Export and Portability</h5>
                            <p>Accredit Helper Pro provides functionality to export your data in various formats for reporting, backup, or transfer purposes. You are responsible for:</p>
                            <ul>
                                <li>Maintaining appropriate backups of your data</li>
                                <li>Ensuring exported data is handled securely</li>
                                <li>Complying with relevant data protection regulations when transferring data</li>
                            </ul>

                            <h5><i class="fas fa-balance-scale me-2"></i>Governing Law</h5>
                            <p>These Terms of Use shall be governed by and construed in accordance with the laws applicable in your jurisdiction, without regard to its conflict of law provisions.</p>

                            <h5><i class="fas fa-handshake me-2"></i>Entire Agreement</h5>
                            <p>These Terms of Use, together with the Privacy Policy, constitute the entire agreement between you and the developers regarding the use of Accredit Helper Pro, superseding any prior agreements between you and the developers.</p>

                            <h5><i class="fas fa-phone me-2"></i>Contact</h5>
                            <p>If you have any questions about these Terms of Use, please contact your institution's administrator or IT department.</p>

                            <div class="alert alert-warning mt-3">
                                <i class="fas fa-exclamation-triangle me-2"></i><strong>Disclaimer:</strong> These Terms of Use are provided as a template and should be reviewed by your institution's legal department before deployment to ensure compliance with local laws and regulations.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Version History -->
                <div class="tab-pane fade" id="version-history">
                    <div class="card shadow-sm">
                        <div class="card-header bg-secondary text-white">
                            <h4 class="mb-0"><i class="fas fa-history me-2"></i>Version History and Changelogs</h4>
                        </div>
                        <div class="card-body">
                            <p class="lead">Track the evolution of Accredit Helper Pro with our detailed version history and changelogs.</p>

                            <div class="alert alert-info">
                                <i class="fas fa-info-circle me-2"></i><strong>About Version Numbers:</strong>
                                Our version numbers indicate significant feature additions, improvements, and fixes.
                                Each new version brings enhancements to make your accreditation process easier and more efficient.
                            </div>

                            <!-- Latest Version First -->
                            <div class="card mb-4">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="mb-0">Version 58 <small class="ms-2">- 28 June 2025</small></h5>
                                </div>
                                <div class="card-body">
                                    <h6 class="mb-3">🐛 Bug Fix Release:</h6>
                                    <ul>
                                        <li>
                                            <strong>🔧 Fixed Total Score Distribution Bug:</strong>
                                            <ul>
                                                <li>Fixed critical bug in "Total Score Only" import format where scores were not distributed equally</li>
                                                <li>Resolved error: "Calculated score exceeds max to match total" when importing total scores</li>
                                                <li>The issue was caused by using original total score instead of target total for distribution calculation</li>
                                                <li>Now ensures consistent score distribution across all questions in an exam</li>
                                                <li>Now distributes the points proportionally equally among the questions with different maximum points</li>
                                                <li>Improved reliability of score import functionality</li>
                                                <li>Improved exclude and include courses page performance</li>
                                                <li>New check unassigned course outcomes having courses list paged added to utilities</li>
                                                <li>New Course Outcomes table added to the getting all statistics page at the very bottom</li>
                                            </ul>
                                        </li>
                                    </ul>
                                    <div class="alert alert-info mt-3">
                                        <strong>What was fixed:</strong> When importing scores using the "Total Score Only" format 
                                        (e.g., student_id<delimiter>total_score), the system now correctly distributes the total 
                                        score equally among all questions without exceeding individual question maximum scores.
                                    </div>
                                </div>
                            </div>

                            <!-- Previous Version -->
                            <div class="card mb-4">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="mb-0">Version 48 <small class="ms-2">- 21 June 2025</small></h5>
                                </div>
                                <div class="card-body">
                                    <h6 class="mb-3">🚀 Major Performance & Feature Release:</h6>
                                    <ul>
                                        <li>
                                            <strong>🎓 New Graduating Students Management System:</strong>
                                            <ul>
                                                <li>Add and manage graduating student lists for MÜDEK filtering</li>
                                                <li>Bulk import graduating students from CSV or text lists</li>
                                                <li>Filter All Courses analysis to show only graduating students</li>
                                                <li>Export graduating student lists for backup and reporting</li>
                                                <li>Database migration system for seamless upgrades</li>
                                            </ul>
                                        </li>
                                        <li>
                                            <strong>⚡ Multi-threaded PDF Generation (Up to 6.4x Faster):</strong>
                                            <ul>
                                                <li>Parallel PDF generation with 1-8 configurable threads</li>
                                                <li>Real-time progress tracking with per-thread status</li>
                                                <li>Guaranteed 100% success rate with automatic retry logic</li>
                                                <li>Extended 5-minute timeout for complex pages</li>
                                                <li>Intelligent resource management and thread safety</li>
                                            </ul>
                                        </li>
                                        <li>
                                            <strong>🔧 Playwright PDF Migration (Reliability Upgrade):</strong>
                                            <ul>
                                                <li>Replaced weasyprint with Playwright for Windows compatibility</li>
                                                <li>Eliminates dependency issues and improves PDF quality</li>
                                                <li>Renders actual web pages for pixel-perfect PDFs</li>
                                                <li>Combined PDF generation with PyPDF2 integration</li>
                                                <li>Timestamped output folders for organized PDF storage</li>
                                            </ul>
                                        </li>
                                        <li>
                                            <strong>📊 Enhanced All Courses Analysis:</strong>
                                            <ul>
                                                <li>Graduating students filter integration</li>
                                                <li>Improved performance with optimized calculations</li>
                                                <li>Better error handling and user feedback</li>
                                                <li>Enhanced UI with progress indicators</li>
                                            </ul>
                                        </li>
                                        <li>
                                            <strong>🛠️ Technical Improvements:</strong>
                                            <ul>
                                                <li>New database migration system for future upgrades</li>
                                                <li>Enhanced error logging and debugging capabilities</li>
                                                <li>Improved thread-safe operations throughout the application</li>
                                                <li>Better memory management for large datasets</li>
                                                <li>Updated dependencies for better security and performance</li>
                                            </ul>
                                        </li>
                                    </ul>
                                    <div class="alert alert-success mt-3">
                                        <strong>Performance Boost:</strong> PDF generation is now up to 6.4x faster with 8 threads, 
                                        and the new Playwright integration provides more reliable results with fewer dependency issues.
                                    </div>
                                </div>
                            </div>

                            <!-- Previous Version -->
                            <div class="card mb-4">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="mb-0">Version 47 <small class="ms-2">- 9 June 2025</small></h5>
                                </div>
                                <div class="card-body">
                                    <h6 class="mb-3">Key Changes:</h6>
                                    <ul>
                                        <li>
                                         Mass import score bug fixes
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Latest Version First -->
                            <div class="card mb-4">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="mb-0">Version 45 <small class="ms-2">- 4 June 2025</small></h5>
                                </div>
                                <div class="card-body">
                                    <h6 class="mb-3">Key Changes:</h6>
                                    <ul>
                                        <li>
                                            The All Courses Analysis page now includes a feature to view Program Outcome Scores for all courses for a specific student.
                                        </li>
                                        <li>
                                            Simply enter the Student ID to filter the results for that student. The results will only include courses that the student has taken and are part of the included courses.
                                        </li>
                                        <li>
                                            A batch include and exclude courses feature has been implemented on the All Courses Analysis page.
                                        </li>
                                        <li>
                                            You can now easily batch exclude or include courses in the calculations to display results for specific courses.
                                        </li>
                                        <li>
                                            Numerous backend algorithm and database optimizations have been made to improve the loading speed of the All Courses Analysis page.
                                            <br />
                                            However, performance may still vary depending on your computer's speed.
                                        </li>
                                        <li>
                                            Excessive logging level (from info to warning) reduced to improve performance of the app
                                        </li>
                                        <li>
                                            Some Achivement Levels Charts colors were broken and this issue fixed
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Latest Version First -->
                            <div class="card mb-4">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="mb-0">Version 36 <small class="ms-2">- 28 May 2025</small></h5>
                                </div>
                                <div class="card-body">
                                    <h6 class="mb-3">Key Changes:</h6>
                                    <ul>
                                        <li>
                                            New mass score import added to Enter Scores page
                                        </li>
                                        <li>
                                            Simple Format (e.g., student_no<delimiter>
                                                q1<delimiter>
                                                    q2<delimiter>
                                                        q3<delimiter>
                                                            ...) - Sequential question scores only.<br />
                                                            Use tab, semicolon, or comma as the delimiter. If no valid score, enter 0. If student has no scores at all, mark as "not entered the exam".
                                        </li>
                                        <li>
                                            New feature Allow scores to exceed maximum (e.g., 30 instead of 25)
                                            <br />
                                            This feature is useful if you are giving extra score on exams based on some other criteria
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Latest Version First -->
                            <div class="card mb-4">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="mb-0">Version 34 <small class="ms-2">- 8 May 2025</small></h5>
                                </div>
                                <div class="card-body">
                                    <h6 class="mb-3">Key Changes:</h6>
                                    <ul>
                                        <li>
                                            Mark No-Score Students Not Joined button added
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Latest Version First -->
                            <div class="card mb-4">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="mb-0">Version 33 <small class="ms-2">- 7 May 2025</small></h5>
                                </div>
                                <div class="card-body">
                                    <h6 class="mb-3">Key Changes:</h6>
                                    <ul>
                                        <li>Batch import feature implemented to Course Outcomes add page with Program Outcomes relations and relative weights</li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Latest Version First -->
                            <div class="card mb-4">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="mb-0">Version 31 <small class="ms-2">- 30 April 2025</small></h5>
                                </div>
                                <div class="card-body">
                                    <h6 class="mb-3">Key Changes:</h6>
                                    <ul>
                                        <li>New exam scores mass import format supported now</li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Latest Version First -->
                            <div class="card mb-4">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="mb-0">Version 31 <small class="ms-2">- 27 April 2025</small></h5>
                                </div>
                                <div class="card-body">
                                    <h6 class="mb-3">Key Changes:</h6>
                                    <ul>
                                        <li>Student name and number based filtering implemented to add exam scores page</li>
                                        <li>
                                            3 Filterings implemented to add exam scores page:<br />
                                            Show All Students<br />
                                            Show Missing Scores<br />
                                            Show Not Attended<br />
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card mb-4">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="mb-0">Version 30 <small class="ms-2">- 27 April 2025</small></h5>
                                </div>
                                <div class="card-body">
                                    <h6 class="mb-3">Key Changes:</h6>
                                    <ul>
                                        <li>We have added Course Outcome - Question relative weight feature</li>
                                        <li>So now you can set each exam question a relative weight to the Course outcome</li>
                                        <li>This way, some questions may have more impactful course outcome to compared to other questions</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card mb-4">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="mb-0">Version 29 <small class="ms-2">- 26 April 2025</small></h5>
                                </div>
                                <div class="card-body">
                                    <h6 class="mb-3">Key Changes:</h6>
                                    <ul>
                                        <li>Exam score editing screen performance and fluency significantly improved</li>
                                        <li>Exam and other exports were getting broken with certain characters; this issue has been fixed to support every language</li>
                                        <li>Exam score export performance significantly improved</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card mb-4">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="mb-0">Version 28 <small class="ms-2">- 12 April 2025</small></h5>
                                </div>
                                <div class="card-body">
                                    <h6 class="mb-3">Key Changes:</h6>
                                    <ul>
                                        <li><strong>New Cross-Course Outcomes Analysis:</strong> Advanced analysis of program outcomes across multiple courses for better accreditation reporting</li>
                                        <li><strong>Import Course Outcomes:</strong> Easily import course outcomes from other courses to save time and ensure consistency</li>
                                        <li><strong>Mass Edit Outcomes:</strong> Edit multiple course outcomes at once with the new batch editing functionality</li>
                                        <li><strong>Weighted Course Outcome to Program Outcome Relationships:</strong> Define custom weights for how COs contribute to POs</li>
                                        <li><strong>Performance Improvements:</strong> Optimized calculations for faster results even with large datasets</li>
                                        <li><strong>Bug Fixes and UI Enhancements:</strong> Various improvements to the interface and fixing reported issues</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="card mb-4">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="mb-0">Version 27 <small class="ms-2">- 11 April 2025</small></h5>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-8">
                                            <h6 class="mb-3">Key Changes:</h6>
                                            <ul>
                                                <li>The App First Time Published To The Public Usage</li>
                                                <li>Full step-by-step detailed tutorial video released</li>
                                                <li>System performance improvements</li>
                                                <li>Enhanced user interface</li>
                                                <li>Bug fixes and stability improvements</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-4 text-center">
                                            <div class="mt-3">
                                                <a href="https://youtu.be/B6E9IF8SkoA" target="_blank" title="Watch Tutorial Video">
                                                    <img src="{{ url_for('static', filename='imgs/first_tutorial_thumbnail.png') }}"
                                                         alt="Tutorial Video"
                                                         class="img-fluid rounded mb-2"
                                                         style="max-width: 100%; max-height: 180px;">
                                                    <div>
                                                        <span class="btn btn-sm btn-danger">
                                                            <i class="fab fa-youtube me-1"></i> Watch Tutorial
                                                        </span>
                                                    </div>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Placeholder for future versions -->
                            <div class="card mb-4">
                                <div class="card-header bg-secondary text-white">
                                    <h5 class="mb-0">Previous Versions</h5>
                                </div>
                                <div class="card-body">
                                    <p>Information about previous versions will be added here.</p>
                                </div>
                            </div>

                            <div class="alert alert-success">
                                <i class="fas fa-star me-2"></i><strong>Stay Updated:</strong>
                                Check this page regularly to learn about new features and improvements in Accredit Helper Pro.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Contact & Support -->
                <div class="tab-pane fade" id="contact">
                    <div class="card shadow-sm">
                        <div class="card-header bg-info text-white">
                            <h4 class="mb-0"><i class="fas fa-envelope me-2"></i>Contact & Support</h4>
                        </div>
                        <div class="card-body">
                            <div class="alert alert-info mb-4">
                                <i class="fas fa-info-circle me-2"></i><strong>Support Availability:</strong> Our team is dedicated to helping you make the most of Accredit Helper Pro. We offer various support channels to address your questions, technical issues, and feature requests.
                            </div>

                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <div class="card h-100 border-primary">
                                        <div class="card-header bg-primary text-white">
                                            <h5 class="mb-0"><i class="fas fa-question-circle me-2"></i>Getting Help</h5>
                                        </div>
                                        <div class="card-body">
                                            <h6><i class="fas fa-book-reader me-2"></i>Documentation Resources</h6>
                                            <p>Before contacting support, consider checking these resources:</p>
                                            <ul>
                                                <li><a href="#overview" class="tab-link">Help & Documentation</a> (this guide)</li>
                                                <li><a href="#troubleshooting" class="tab-link">Troubleshooting Guide</a></li>
                                                <li><a href="https://github.com/furkangozukara/Accredit-Helper-Pro/wiki" target="_blank">Online Wiki</a> (may contain updated information)</li>
                                            </ul>

                                            <h6 class="mt-4"><i class="fas fa-user-circle me-2"></i>Personal Support</h6>
                                            <p>For direct assistance, you can reach out via:</p>
                                            <ul>
                                                <li>
                                                    <strong>Email Support:</strong><br>
                                                    <a href="mailto:furkangozukara@gmail.com"><i class="fas fa-envelope me-2"></i>furkangozukara@gmail.com</a>
                                                    <small class="text-muted d-block mt-1">Response within 48 hours (typically faster)</small>
                                                </li>
                                                <li class="mt-2">
                                                    <strong>LinkedIn:</strong><br>
                                                    <a href="https://www.linkedin.com/in/furkangozukara/" target="_blank"><i class="fab fa-linkedin me-2"></i>linkedin.com/in/furkangozukara</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="card h-100 border-success">
                                        <div class="card-header bg-success text-white">
                                            <h5 class="mb-0"><i class="fas fa-tools me-2"></i>Support Resources</h5>
                                        </div>
                                        <div class="card-body">
                                            <h6><i class="fas fa-video me-2"></i>Video Tutorials</h6>
                                            <p>Visual learner? Check our video guides:</p>
                                            <ul>
                                                <li><a href="https://www.youtube.com/playlist?list=PLxxxxxYOURPLAYLISTID" target="_blank">Getting Started Series</a></li>
                                                <li><a href="https://www.youtube.com/playlist?list=PLxxxxxYOURPLAYLISTID" target="_blank">Advanced Features</a></li>
                                            </ul>

                                            <h6 class="mt-4"><i class="fas fa-code me-2"></i>Development Resources</h6>
                                            <p>For technical users and contributors:</p>
                                            <ul>
                                                <li><a href="https://github.com/furkangozukara/Accredit-Helper-Pro" target="_blank">GitHub Repository</a></li>
                                                <li><a href="https://github.com/furkangozukara/Accredit-Helper-Pro/issues" target="_blank">Known Issues</a></li>
                                            </ul>

                                            <h6 class="mt-4"><i class="fas fa-chalkboard-teacher me-2"></i>Training</h6>
                                            <p>For departments interested in comprehensive training:</p>
                                            <ul>
                                                <li>Contact us to arrange personalized training sessions</li>
                                                <li>Group workshops available for academic departments</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="card mb-4">
                                <div class="card-header bg-info text-white">
                                    <h5 class="mb-0"><i class="fas fa-bug me-2"></i>Reporting Issues</h5>
                                </div>
                                <div class="card-body">
                                    <p>When reporting an issue, please include:</p>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <ul>
                                                <li><strong>Issue Description:</strong> What's happening?</li>
                                                <li><strong>Expected Behavior:</strong> What should happen instead?</li>
                                                <li><strong>Reproduction Steps:</strong> How can we reproduce the issue?</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6">
                                            <ul>
                                                <li><strong>Screenshots:</strong> If applicable</li>
                                                <li><strong>System Info:</strong> Browser, OS, screen resolution</li>
                                                <li><strong>Log Messages:</strong> Any error messages you see</li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="alert alert-secondary mt-3">
                                        <p><strong>Channels for Issue Reporting:</strong></p>
                                        <ul class="mb-0">
                                            <li><strong>Email:</strong> <a href="mailto:furkangozukara@gmail.com">furkangozukara@gmail.com</a> with subject line "Accredit Helper Pro Issue"</li>
                                            <li><strong>GitHub:</strong> <a href="https://github.com/furkangozukara/Accredit-Helper-Pro/issues" target="_blank">Open an Issue</a> on our GitHub repository</li>
                                            <li><strong>Feedback Form:</strong> Use the form below</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <div class="card mb-4">
                                <div class="card-header bg-warning text-dark">
                                    <h5 class="mb-0"><i class="fas fa-lightbulb me-2"></i>Feature Requests & Feedback</h5>
                                </div>
                                <div class="card-body">
                                    <p>Have ideas for improving Accredit Helper Pro? We'd love to hear them!</p>
                                    <p>Your feedback helps us prioritize development efforts and improve the tool for everyone. When submitting feature requests, please explain:</p>
                                    <ul>
                                        <li>What specific functionality you're looking for</li>
                                        <li>How this feature would benefit your workflow</li>
                                        <li>Any examples of similar functionality in other applications</li>
                                    </ul>

                                    <div class="alert alert-success mt-3">
                                        <p><strong>How We Use Your Feedback:</strong></p>
                                        <p>We categorize all feedback into:</p>
                                        <ul class="mb-0">
                                            <li><strong>Bug Fixes:</strong> Immediate attention for critical issues</li>
                                            <li><strong>Short-term Improvements:</strong> Implemented in upcoming releases</li>
                                            <li><strong>Long-term Features:</strong> Added to our development roadmap</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <div class="card mb-4">
                                <div class="card-header bg-light">
                                    <h5 class="mb-0"><i class="fas fa-comment-alt me-2"></i>Feedback Form</h5>
                                </div>
                                <div class="card-body">
                                    <form id="feedbackForm">
                                        <div class="row mb-3">
                                            <div class="col-md-6">
                                                <label for="feedbackName" class="form-label">Name</label>
                                                <input type="text" class="form-control" id="feedbackName" required>
                                            </div>
                                            <div class="col-md-6">
                                                <label for="feedbackEmail" class="form-label">Email</label>
                                                <input type="email" class="form-control" id="feedbackEmail" required>
                                            </div>
                                        </div>

                                        <div class="mb-3">
                                            <label for="feedbackType" class="form-label">Feedback Type</label>
                                            <select class="form-select" id="feedbackType" required>
                                                <option value="" selected disabled>Please select...</option>
                                                <option value="bug">Bug Report</option>
                                                <option value="feature">Feature Request</option>
                                                <option value="general">General Feedback</option>
                                                <option value="question">Question</option>
                                            </select>
                                        </div>

                                        <div class="mb-3">
                                            <label for="feedbackMessage" class="form-label">Your Message</label>
                                            <textarea class="form-control" id="feedbackMessage" rows="5" required></textarea>
                                        </div>

                                        <div class="mb-3 form-check">
                                            <input type="checkbox" class="form-check-input" id="contactPermission">
                                            <label class="form-check-label" for="contactPermission">I give permission to contact me regarding this feedback</label>
                                        </div>

                                        <button type="submit" class="btn btn-primary">Submit Feedback</button>
                                    </form>
                                </div>
                            </div>

                            <div class="card">
                                <div class="card-header bg-secondary text-white">
                                    <h5 class="mb-0"><i class="fas fa-file-contract me-2"></i>Support Policy</h5>
                                </div>
                                <div class="card-body">
                                    <p>Our support policy includes:</p>
                                    <ul>
                                        <li><strong>Scope:</strong> Installation, configuration, usage questions, bug reporting, feature requests</li>
                                        <li><strong>Response Time:</strong> We aim to respond to all inquiries within 48 business hours</li>
                                        <li><strong>Priority:</strong> Critical issues that prevent usage receive highest priority</li>
                                        <li><strong>Custom Development:</strong> Specific feature development may require additional arrangements</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Troubleshooting -->
                <div class="tab-pane fade" id="troubleshooting">
                    <div class="card shadow-sm">
                        <div class="card-header bg-danger text-white">
                            <h4 class="mb-0"><i class="fas fa-wrench me-2"></i>Troubleshooting Guide</h4>
                        </div>
                        <div class="card-body">
                            <p>Encountering issues? This guide covers common problems and solutions.</p>

                            <div class="accordion" id="troubleshootingAccordion">
                                <!-- Database & File Issues -->
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="headingDatabase">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseDatabase" aria-expanded="true" aria-controls="collapseDatabase">
                                            <i class="fas fa-database me-2"></i><strong>Database & File Issues</strong>
                                        </button>
                                    </h2>
                                    <div id="collapseDatabase" class="accordion-collapse collapse show" aria-labelledby="headingDatabase" data-bs-parent="#troubleshootingAccordion">
                                        <div class="accordion-body">
                                            <div class="card mb-3">
                                                <div class="card-header bg-light">
                                                    <h6 class="mb-0">Database Backup Issues</h6>
                                                </div>
                                                <div class="card-body">
                                                    <p><strong>Symptoms:</strong> Unable to backup the database, or backup files are corrupted.</p>

                                                    <p><strong>Possible Causes & Solutions:</strong></p>
                                                    <ul>
                                                        <li>
                                                            <strong>Database Corruption:</strong>
                                                            <ul>
                                                                <li>Run the application with administrator privileges</li>
                                                                <li>Check for any error messages or logs related to database operations</li>
                                                                <li>Try using a different database management system (e.g., SQLite3 instead of SQLite)</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>File System Issues:</strong>
                                                            <ul>
                                                                <li>Ensure you have enough disk space for backups</li>
                                                                <li>Check if the backup directory is writable</li>
                                                                <li>Run the backup command manually to verify its success</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>Permissions Issues:</strong>
                                                            <ul>
                                                                <li>Ensure the application has write permissions to the backup directory</li>
                                                                <li>Run the backup command with appropriate permissions</li>
                                                            </ul>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>

                                            <div class="card mb-3">
                                                <div class="card-header bg-light">
                                                    <h6 class="mb-0">Database Restore Issues</h6>
                                                </div>
                                                <div class="card-body">
                                                    <p><strong>Symptoms:</strong> Unable to restore the database, or restore process fails.</p>

                                                    <p><strong>Possible Causes & Solutions:</strong></p>
                                                    <ul>
                                                        <li>
                                                            <strong>File Corruption:</strong>
                                                            <ul>
                                                                <li>Verify the backup file integrity before attempting restore</li>
                                                                <li>Try using a different backup file if the restore fails</li>
                                                                <li>Run the restore command manually to verify its success</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>Permissions Issues:</strong>
                                                            <ul>
                                                                <li>Ensure the application has read/write permissions to the database file</li>
                                                                <li>Run the restore command with appropriate permissions</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>Database Compatibility:</strong>
                                                            <ul>
                                                                <li>Ensure the backup and restore operations are performed on compatible versions of the application</li>
                                                                <li>Check if any database schema changes are required before restoring</li>
                                                            </ul>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>

                                            <div class="card mb-3">
                                                <div class="card-header bg-light">
                                                    <h6 class="mb-0">File System Issues</h6>
                                                </div>
                                                <div class="card-body">
                                                    <p><strong>Symptoms:</strong> Unable to save data, files are corrupted, or data is lost.</p>

                                                    <p><strong>Possible Causes & Solutions:</strong></p>
                                                    <ul>
                                                        <li>
                                                            <strong>Disk Space Issues:</strong>
                                                            <ul>
                                                                <li>Check if there is enough disk space available</li>
                                                                <li>Delete unnecessary files to free up space</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>Permissions Issues:</strong>
                                                            <ul>
                                                                <li>Ensure the application has write permissions to the data directory</li>
                                                                <li>Run the application with appropriate permissions</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>File System Errors:</strong>
                                                            <ul>
                                                                <li>Check for any error messages or logs related to file operations</li>
                                                                <li>Run the application with administrator privileges to check for file system issues</li>
                                                            </ul>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Calculation & Results Issues -->
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="headingCalculation">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCalculation" aria-expanded="true" aria-controls="collapseCalculation">
                                            <i class="fas fa-calculator me-2"></i><strong>Calculation & Results Issues</strong>
                                        </button>
                                    </h2>
                                    <div id="collapseCalculation" class="accordion-collapse collapse show" aria-labelledby="headingCalculation" data-bs-parent="#troubleshootingAccordion">
                                        <div class="accordion-body">
                                            <div class="card mb-3">
                                                <div class="card-header bg-light">
                                                    <h6 class="mb-0">Unexpected Calculation Results</h6>
                                                </div>
                                                <div class="card-body">
                                                    <p><strong>Symptoms:</strong> Outcome achievement percentages or success rates seem incorrect or unexpectedly low/high.</p>

                                                    <p><strong>Possible Causes & Solutions:</strong></p>
                                                    <ul>
                                                        <li>
                                                            <strong>Missing Question-CO Links:</strong>
                                                            <ul>
                                                                <li>Verify all exam questions are properly linked to Course Outcomes</li>
                                                                <li>Check for "orphaned" questions with no CO links</li>
                                                                <li>Review the question mapping in each exam</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>Missing CO-PO Links:</strong>
                                                            <ul>
                                                                <li>Ensure all Course Outcomes are linked to at least one Program Outcome</li>
                                                                <li>Verify these links are correct based on your curriculum design</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>Incorrect Exam Weights:</strong>
                                                            <ul>
                                                                <li>Check if exam weights sum to exactly 100%</li>
                                                                <li>Verify weights match your course's grading policy</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>Missing Student Scores:</strong>
                                                            <ul>
                                                                <li>Ensure all student scores have been entered for all questions</li>
                                                                <li>Check for missing data in the score entry grid</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>Incorrect Success Rate Method:</strong>
                                                            <ul>
                                                                <li>Check your Course Settings for the success rate calculation method</li>
                                                                <li>Verify if "Absolute" or "Relative" method is appropriate for your needs</li>
                                                            </ul>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>

                                            <div class="card mb-3">
                                                <div class="card-header bg-light">
                                                    <h6 class="mb-0">Calculation Errors or Failures</h6>
                                                </div>
                                                <div class="card-body">
                                                    <p><strong>Symptoms:</strong> Error messages when calculating results, or the calculation process fails to complete.</p>

                                                    <p><strong>Possible Causes & Solutions:</strong></p>
                                                    <ul>
                                                        <li>
                                                            <strong>Division by Zero:</strong>
                                                            <ul>
                                                                <li>Ensure all questions have a non-zero max score</li>
                                                                <li>Verify that the course has at least one student with scores</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>Inconsistent Data Structure:</strong>
                                                            <ul>
                                                                <li>Verify the course has defined COs, exams, questions, students, and scores</li>
                                                                <li>Check if all required relationships are established</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>Server Timeout:</strong>
                                                            <ul>
                                                                <li>For very large courses with many students and questions, the calculation might time out</li>
                                                                <li>Try restarting the application and attempting the calculation again</li>
                                                            </ul>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>

                                            <div class="alert alert-info mt-3">
                                                <i class="fas fa-lightbulb me-2"></i><strong>Debugging Tip:</strong> To understand calculation issues, try breaking them down:
                                                <ol class="mb-0">
                                                    <li>Verify exam weights sum to 100%</li>
                                                    <li>Check if each question is linked to at least one CO</li>
                                                    <li>Ensure each CO is linked to at least one PO</li>
                                                    <li>Examine a sample of student scores to verify they are correctly entered</li>
                                                    <li>Review the course settings, particularly the success rate method</li>
                                                </ol>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Import/Export Issues -->
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="headingImport">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseImport" aria-expanded="true" aria-controls="collapseImport">
                                            <i class="fas fa-file-import me-2"></i><strong>Import/Export & Data Transfer Issues</strong>
                                        </button>
                                    </h2>
                                    <div id="collapseImport" class="accordion-collapse collapse show" aria-labelledby="headingImport" data-bs-parent="#troubleshootingAccordion">
                                        <div class="accordion-body">
                                            <div class="card mb-3">
                                                <div class="card-header bg-light">
                                                    <h6 class="mb-0">Student Import Problems</h6>
                                                </div>
                                                <div class="card-body">
                                                    <p><strong>Symptoms:</strong> Student import fails, imports incorrect data, or skips students.</p>

                                                    <p><strong>Possible Causes & Solutions:</strong></p>
                                                    <ul>
                                                        <li>
                                                            <strong>Incorrect Format:</strong>
                                                            <ul>
                                                                <li>Ensure your student data matches one of the supported formats:</li>
                                                                <li>Check for extra spaces, tabs, or special characters</li>
                                                                <li>Use the "Preview" feature to verify data parsing before finalizing import</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>Duplicate Student IDs:</strong>
                                                            <ul>
                                                                <li>Student IDs must be unique within a course</li>
                                                                <li>Check for duplicate IDs in your import data</li>
                                                                <li>If importing to a course with existing students, ensure IDs don't conflict</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>File Encoding Issues:</strong>
                                                            <ul>
                                                                <li>For CSV imports, ensure the file is UTF-8 encoded</li>
                                                                <li>Watch for special characters or non-English names</li>
                                                            </ul>
                                                        </li>
                                                    </ul>

                                                    <div class="alert alert-success mt-3">
                                                        <i class="fas fa-file-alt me-2"></i><strong>Tip:</strong> For complex student lists, prepare your data in Excel or another spreadsheet program, then export as CSV or copy/paste into the text import option. Always verify the preview before completing the import.
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="card mb-3">
                                                <div class="card-header bg-light">
                                                    <h6 class="mb-0">Database Merge Issues</h6>
                                                </div>
                                                <div class="card-body">
                                                    <p><strong>Symptoms:</strong> Merge operation fails, data is duplicated, or expected data is missing after merge.</p>

                                                    <p><strong>Possible Causes & Solutions:</strong></p>
                                                    <ul>
                                                        <li>
                                                            <strong>Incompatible Database Structures:</strong>
                                                            <ul>
                                                                <li>Ensure both source and destination databases are from compatible versions of the application</li>
                                                                <li>If merging databases from different application versions, update both to the same version first</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>ID Conflicts:</strong>
                                                            <ul>
                                                                <li>When merging courses, check for duplicate course codes and semesters</li>
                                                                <li>When merging students, watch for duplicate student IDs within the same course</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>Circular References:</strong>
                                                            <ul>
                                                                <li>Avoid selecting the same course as both source and destination</li>
                                                                <li>Check for complex interdependencies between courses</li>
                                                            </ul>
                                                        </li>
                                                    </ul>

                                                    <div class="alert alert-warning mt-3">
                                                        <i class="fas fa-exclamation-triangle me-2"></i><strong>Important:</strong> Always create a backup before attempting database merges or imports. This allows you to restore if the operation doesn't produce the expected results.
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="card mb-3">
                                                <div class="card-header bg-light">
                                                    <h6 class="mb-0">Export Problems</h6>
                                                </div>
                                                <div class="card-body">
                                                    <p><strong>Symptoms:</strong> Unable to export data, exported files are empty or corrupted.</p>

                                                    <p><strong>Possible Causes & Solutions:</strong></p>
                                                    <ul>
                                                        <li>
                                                            <strong>Browser Issues:</strong>
                                                            <ul>
                                                                <li>Ensure your browser allows file downloads</li>
                                                                <li>Check your browser's download settings and permissions</li>
                                                                <li>Try a different browser if export consistently fails</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>File Permission Issues:</strong>
                                                            <ul>
                                                                <li>Check if your system allows writing to the download location</li>
                                                                <li>Ensure adequate disk space for exports</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>Empty Data Sets:</strong>
                                                            <ul>
                                                                <li>Verify there is actual data to export (e.g., students in the course)</li>
                                                                <li>Check if filters or search criteria might be excluding all data</li>
                                                            </ul>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Performance Issues -->
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="headingPerformance">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapsePerformance" aria-expanded="true" aria-controls="collapsePerformance">
                                            <i class="fas fa-tachometer-alt me-2"></i><strong>Performance & Responsiveness Issues</strong>
                                        </button>
                                    </h2>
                                    <div id="collapsePerformance" class="accordion-collapse collapse show" aria-labelledby="headingPerformance" data-bs-parent="#troubleshootingAccordion">
                                        <div class="accordion-body">
                                            <div class="card mb-3">
                                                <div class="card-header bg-light">
                                                    <h6 class="mb-0">Slow Application Response</h6>
                                                </div>
                                                <div class="card-body">
                                                    <p><strong>Symptoms:</strong> Pages take a long time to load, operations like searching or sorting are slow.</p>

                                                    <p><strong>Possible Causes & Solutions:</strong></p>
                                                    <ul>
                                                        <li>
                                                            <strong>Large Database:</strong>
                                                            <ul>
                                                                <li>As your database grows with many courses and students, operations may slow down</li>
                                                                <li>Consider archiving old courses that are no longer needed for active reporting</li>
                                                                <li>Use the "Exclude Course from Reports" setting for historical courses</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>System Resources:</strong>
                                                            <ul>
                                                                <li>Check if your computer has adequate RAM and CPU resources</li>
                                                                <li>Close other resource-intensive applications when using Accredit Helper Pro</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>Browser Performance:</strong>
                                                            <ul>
                                                                <li>Clear your browser cache and cookies</li>
                                                                <li>Try a different browser (Chrome or Firefox often perform best)</li>
                                                                <li>Disable extensions that might interfere with web applications</li>
                                                            </ul>
                                                        </li>
                                                    </ul>

                                                    <div class="alert alert-info mt-3">
                                                        <i class="fas fa-broom me-2"></i><strong>Database Maintenance:</strong> If the application becomes consistently slow, consider creating a new, clean database for new semesters and archiving the old one. You can always export important data or use the merge functionality to transfer specific courses if needed.
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="card mb-3">
                                                <div class="card-header bg-light">
                                                    <h6 class="mb-0">Score Entry Grid Performance</h6>
                                                </div>
                                                <div class="card-body">
                                                    <p><strong>Symptoms:</strong> Score entry grid is slow to load or respond to input, especially with large classes.</p>

                                                    <p><strong>Possible Causes & Solutions:</strong></p>
                                                    <ul>
                                                        <li>
                                                            <strong>Large Data Sets:</strong>
                                                            <ul>
                                                                <li>For courses with many students and questions, use the exam-specific score entry view instead of the all-exams view</li>
                                                                <li>Enter scores one exam at a time rather than all at once</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>Auto-Save Feature:</strong>
                                                            <ul>
                                                                <li>The auto-save feature can slow down entry for large grids</li>
                                                                <li>Enter scores in batches and allow time for saving between entries</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>Browser Limitations:</strong>
                                                            <ul>
                                                                <li>Some browsers handle large data grids better than others</li>
                                                                <li>Chrome typically offers the best performance for complex web interfaces</li>
                                                            </ul>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Troubleshooting -->
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="headingTroubleshooting">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTroubleshooting" aria-expanded="true" aria-controls="collapseTroubleshooting">
                                            <i class="fas fa-wrench me-2"></i><strong>Troubleshooting & Common Issues</strong>
                                        </button>
                                    </h2>
                                    <div id="collapseTroubleshooting" class="accordion-collapse collapse show" aria-labelledby="headingTroubleshooting" data-bs-parent="#troubleshootingAccordion">
                                        <div class="accordion-body">
                                            <div class="card mb-3">
                                                <div class="card-header bg-light">
                                                    <h6 class="mb-0">Application Won't Start</h6>
                                                </div>
                                                <div class="card-body">
                                                    <p><strong>Symptoms:</strong> Application fails to launch or crashes immediately after starting.</p>

                                                    <p><strong>Possible Causes & Solutions:</strong></p>
                                                    <ul>
                                                        <li>
                                                            <strong>Missing Dependencies:</strong>
                                                            <ul>
                                                                <li>Ensure Python and all required packages are installed correctly</li>
                                                                <li>Try reinstalling using the requirements.txt file</li>
                                                                <li>Check console or log files for specific error messages</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>Database Corruption:</strong>
                                                            <ul>
                                                                <li>Rename or move your existing database file and let the application create a new one</li>
                                                                <li>Restore from a known good backup</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>Port Conflict:</strong>
                                                            <ul>
                                                                <li>Check if another application is already using port 5000</li>
                                                                <li>Try starting the application with a different port: <code>python app.py --port 5001</code></li>
                                                            </ul>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>

                                            <div class="card mb-3">
                                                <div class="card-header bg-light">
                                                    <h6 class="mb-0">Charts and Graphs Not Displaying</h6>
                                                </div>
                                                <div class="card-body">
                                                    <p><strong>Symptoms:</strong> Reports generate but charts or graphs are blank or don't appear.</p>

                                                    <p><strong>Possible Causes & Solutions:</strong></p>
                                                    <ul>
                                                        <li>
                                                            <strong>Browser Compatibility:</strong>
                                                            <ul>
                                                                <li>Try using a different modern browser (Chrome, Firefox, Edge)</li>
                                                                <li>Ensure JavaScript is enabled in your browser</li>
                                                                <li>Clear browser cache and reload the page</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>Insufficient Data:</strong>
                                                            <ul>
                                                                <li>Charts require at least some data to display</li>
                                                                <li>Check that you have entered student scores and mapped questions to outcomes</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>Network Issues:</strong>
                                                            <ul>
                                                                <li>If using remote access, ensure stable internet connection</li>
                                                                <li>Check browser developer console for specific JavaScript errors</li>
                                                            </ul>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>

                                            <div class="card mb-3">
                                                <div class="card-header bg-light">
                                                    <h6 class="mb-0">Unexpected Error Messages</h6>
                                                </div>
                                                <div class="card-body">
                                                    <p><strong>Symptoms:</strong> Error messages appear during normal operation.</p>

                                                    <p><strong>Possible Causes & Solutions:</strong></p>
                                                    <ul>
                                                        <li>
                                                            <strong>Application Bug:</strong>
                                                            <ul>
                                                                <li>Take a screenshot of the error message</li>
                                                                <li>Check system logs for additional information</li>
                                                                <li>Report the issue through the feedback form with detailed steps to reproduce</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>Data Format Issues:</strong>
                                                            <ul>
                                                                <li>Ensure input data follows expected formats (percentages, text lengths, etc.)</li>
                                                                <li>Watch for special characters that might cause problems</li>
                                                            </ul>
                                                        </li>
                                                        <li>
                                                            <strong>Version Mismatch:</strong>
                                                            <ul>
                                                                <li>Check if you're using the latest version of the application</li>
                                                                <li>Update if a newer version is available</li>
                                                            </ul>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Remote Access -->
                <div class="tab-pane fade" id="remote-access">
                    <div class="card shadow-sm mb-4">
                        <div class="card-header bg-primary text-white">
                            <h4 class="mb-0"><i class="fas fa-globe me-2"></i>About Remote Access</h4>
                        </div>
                        <div class="card-body">
                            <p class="lead">Accredit Helper Pro supports secure remote access via Cloudflare Tunnel, allowing you to access your application from anywhere and share it with colleagues without complex network configuration.</p>

                            <div class="alert alert-info">
                                <i class="fas fa-info-circle me-2"></i><strong>What is Cloudflared?</strong> Cloudflared is a lightweight tunneling client from Cloudflare that creates a secure connection between your local application and Cloudflare's edge network. This tunnel allows you to expose your locally running app to the internet securely through a randomly generated URL.
                            </div>

                            <h5><i class="fas fa-star me-2"></i>Key Benefits</h5>
                            <div class="row">
                                <div class="col-md-6">
                                    <ul class="list-group list-group-flush mb-3">
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Access from Anywhere</strong> - Use your application from any device with an internet connection</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Easy Sharing</strong> - Share your application with colleagues by sharing the URL</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>No Firewall Configuration</strong> - Works without changing network settings or router configuration</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <ul class="list-group list-group-flush mb-3">
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Secure Connection</strong> - Traffic is encrypted between your device and Cloudflare's network</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>No Account Required</strong> - Use the basic tunneling feature without creating an account</li>
                                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i><strong>Simple Setup</strong> - Just install cloudflared and run with the --cloud flag</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card shadow-sm mb-4">
                        <div class="card-header bg-success text-white">
                            <h4 class="mb-0"><i class="fas fa-download me-2"></i>Installation Guide</h4>
                        </div>
                        <div class="card-body">
                            <p>Before you can use the remote access feature, you need to install the cloudflared client on your computer:</p>

                            <h5 class="mt-4"><i class="fab fa-windows me-2"></i>Windows Installation</h5>
                            <ol>
                                <li>Download the installer from <a href="https://github.com/cloudflare/cloudflared/releases" target="_blank">Cloudflare's official website</a></li>
                                <li>
                                    Run the installer and follow the on-screen instructions - cloudflared-windows-386.msi and cloudflared-windows-amd64.exe
                                </li>
                                <li>After installation, verify it works by opening a Command Prompt and typing: <code>cloudflared --version</code></li>
                            </ol>

                            <h5 class="mt-4"><i class="fab fa-apple me-2"></i>macOS Installation</h5>
                            <ol>
                                <li>Using Homebrew: <code>brew install cloudflare/cloudflare/cloudflared</code></li>
                                <li>Alternatively, download the package from <a href="https://github.com/cloudflare/cloudflared/releases" target="_blank">Cloudflare's official website</a></li>
                                <li>Verify the installation by opening Terminal and typing: <code>cloudflared --version</code></li>
                            </ol>

                            <h5 class="mt-4"><i class="fab fa-linux me-2"></i>Linux Installation</h5>
                            <ol>
                                <li>For Debian/Ubuntu: <pre class="bg-light p-2">curl -L https://pkg.cloudflare.com/cloudflared-stable-linux-amd64.deb -o cloudflared.deb
sudo dpkg -i cloudflared.deb</pre></li>
                                <li>For other distributions, follow the instructions on <a href="https://github.com/cloudflare/cloudflared/releases" target="_blank">Cloudflare's website</a></li>
                                <li>Verify the installation: <code>cloudflared --version</code></li>
                            </ol>

                            <div class="alert alert-warning mt-3">
                                <i class="fas fa-exclamation-triangle me-2"></i><strong>Important:</strong> The cloudflared executable must be in your system's PATH for the application to use it automatically. If you installed it but the application can't find it, you may need to restart your computer or adjust your PATH environment variable.
                            </div>
                        </div>
                    </div>

                    <div class="card shadow-sm mb-4">
                        <div class="card-header bg-info text-white">
                            <h4 class="mb-0"><i class="fas fa-play-circle me-2"></i>Using Remote Access</h4>
                        </div>
                        <div class="card-body">
                            <p>Once you have cloudflared installed, you can start Accredit Helper Pro with remote access enabled:</p>

                            <h5><i class="fas fa-terminal me-2"></i>Starting with Remote Access</h5>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <h6 class="mb-0">Option 1: Using Windows Batch File</h6>
                                        </div>
                                        <div class="card-body">
                                            <ol>
                                                <li>Use <code>Windows_Start_CloudFlare_Public_Url.bat</code></li>
                                                <li>The console will display a public URL you can access from any device</li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <h6 class="mb-0">Option 2: Using Command Line</h6>
                                        </div>
                                        <div class="card-body">
                                            <ol>
                                                <li>Open a command prompt or terminal</li>
                                                <li>Navigate to your application directory</li>
                                                <li>Activate your virtual environment (if applicable)</li>
                                                <li>Run the application with the <code>--cloud</code> flag:
                                                <pre class="bg-light p-2">python app.py --cloud</pre></li>
                                                <li>The console will display a public URL</li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-info mt-3">
                                <i class="fas fa-link me-2"></i><strong>About the Public URL:</strong> The URL is generated randomly each time you start the application with the <code>--cloud</code> flag. It will look something like <code>https://some-random-words.trycloudflare.com</code>. This URL will remain active as long as your application is running.
                            </div>

                            <h5 class="mt-4"><i class="fas fa-share-alt me-2"></i>Sharing Access with Others</h5>
                            <ol>
                                <li>Start the application with the <code>--cloud</code> flag as described above</li>
                                <li>Note the public URL displayed in the console</li>
                                <li>Share this URL with colleagues or access it from your other devices</li>
                                <li>Anyone with the URL can access your application until you close it</li>
                            </ol>

                            <div class="alert alert-warning mt-3">
                                <i class="fas fa-shield-alt me-2"></i><strong>Security Note:</strong> While the connection is encrypted, anyone with the URL can access your application. Do not share the URL with untrusted parties. The URL is only active while your application is running - when you close the application, the URL becomes inactive.
                            </div>
                        </div>
                    </div>

                    <div class="card shadow-sm mb-4">
                        <div class="card-header bg-secondary text-white">
                            <h4 class="mb-0"><i class="fas fa-question-circle me-2"></i>Troubleshooting</h4>
                        </div>
                        <div class="card-body">
                            <div class="accordion" id="troubleshootingCloudAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="headingCloudOne">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCloudOne" aria-expanded="true" aria-controls="collapseCloudOne">
                                            "cloudflared is not installed" error
                                        </button>
                                    </h2>
                                    <div id="collapseCloudOne" class="accordion-collapse collapse show" aria-labelledby="headingCloudOne" data-bs-parent="#troubleshootingCloudAccordion">
                                        <div class="accordion-body">
                                            <p>If you see this error, it means the application couldn't find the cloudflared executable:</p>
                                            <ol>
                                                <li>Verify that cloudflared is installed by running <code>cloudflared --version</code> in a terminal</li>
                                                <li>If the command is not found, reinstall cloudflared following the installation instructions</li>
                                                <li>If installed but still not working, try restarting your computer</li>
                                                <li>For advanced users: ensure the cloudflared executable is in your system's PATH</li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="headingCloudTwo">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCloudTwo" aria-expanded="true" aria-controls="collapseCloudTwo">
                                            No public URL appears in the console
                                        </button>
                                    </h2>
                                    <div id="collapseCloudTwo" class="accordion-collapse collapse show" aria-labelledby="headingCloudTwo" data-bs-parent="#troubleshootingCloudAccordion">
                                        <div class="accordion-body">
                                            <p>If the application starts but no public URL is displayed:</p>
                                            <ol>
                                                <li>Check that you included the <code>--cloud</code> flag when starting the application</li>
                                                <li>Look carefully through the console output for any errors related to cloudflared</li>
                                                <li>Ensure that outbound connections to Cloudflare's servers are not blocked by a firewall</li>
                                                <li>Try running cloudflared manually to test if it works:
                                                <pre class="bg-light p-2">cloudflared tunnel --url http://localhost:5000</pre></li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="headingCloudThree">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCloudThree" aria-expanded="true" aria-controls="collapseCloudThree">
                                            Remote devices can't connect to the public URL
                                        </button>
                                    </h2>
                                    <div id="collapseCloudThree" class="accordion-collapse collapse show" aria-labelledby="headingCloudThree" data-bs-parent="#troubleshootingCloudAccordion">
                                        <div class="accordion-body">
                                            <p>If you or others cannot access the application via the public URL:</p>
                                            <ol>
                                                <li>Verify that your application is still running locally</li>
                                                <li>Check that you're using the exact URL displayed in the console</li>
                                                <li>Ensure the remote device has internet access and can reach Cloudflare's services</li>
                                                <li>Try accessing the URL from a different browser or device</li>
                                                <li>Restart the application with the <code>--cloud</code> flag to generate a new URL</li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="headingCloudFour">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCloudFour" aria-expanded="true" aria-controls="collapseCloudFour">
                                            Performance is slow on remote devices
                                        </button>
                                    </h2>
                                    <div id="collapseCloudFour" class="accordion-collapse collapse show" aria-labelledby="headingCloudFour" data-bs-parent="#troubleshootingCloudAccordion">
                                        <div class="accordion-body">
                                            <p>If the application is running slowly when accessed remotely:</p>
                                            <ol>
                                                <li>This is normal to some extent - data must travel through the internet</li>
                                                <li>Check your local internet connection upload speed</li>
                                                <li>Limit large data transfers when using remote access</li>
                                                <li>For better performance with large datasets, consider using the application locally</li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
{% endblock %}

{% block scripts %}
{{ super() }}
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Add CSS to fix tab pane display and add search highlight style
        const style = document.createElement('style');
        style.textContent = `
        /* Remove any display:none from tab-panes outside the container */
        .tab-pane {
            display: none;
        }
        .tab-pane.active {
            display: block !important;
        }
        .tab-pane.show {
            display: block !important;
        }
        .highlight-search {
            background-color: #fff3cd;
            padding: 4px;
            border-radius: 3px;
            box-shadow: 0 0 5px rgba(0,0,0,0.1);
            transition: background-color 0.5s;
        }
        /* Important fix - remove the default display:none inline style that may be added */
        [role="tabpanel"] {
            display: none !important;
        }
        [role="tabpanel"].active {
            display: block !important;
        }
    `;
        document.head.appendChild(style);

        // Get the hash from the URL (without the # symbol)
        let hash = window.location.hash;

        // Initialize all tooltips
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl)
        });

        // Function to activate tab based on hash
        function activateTabFromHash(hash) {
            if (!hash || hash === '') return;

            // Ensure hash has a # at the beginning
            if (!hash.startsWith('#')) {
                hash = '#' + hash;
            }

            // Get the tab link
            const tabSelector = `#helpNav a[href="${hash}"]`;
            const tabElement = document.querySelector(tabSelector);

            if (tabElement) {
                // Manually handle the tab activation
                // 1. Remove active class from all tab links
                document.querySelectorAll('#helpNav a').forEach(el => {
                    el.classList.remove('active');
                });

                // 2. Add active class to selected tab link
                tabElement.classList.add('active');

                // 3. Hide all tab panes in the tab-content container only
                document.querySelectorAll('#helpContent .tab-pane').forEach(pane => {
                    pane.style.display = 'none'; // Explicitly hide
                    pane.classList.remove('show', 'active');
                });

                // 4. Show the selected tab pane inside the container only
                const targetPane = document.querySelector('#helpContent ' + hash);
                if (targetPane) {
                    targetPane.style.display = 'block'; // Explicitly show with block display
                    // Add show/active classes immediately without delay
                    targetPane.classList.add('show', 'active');

                    // Scroll to the top of the tab content area, not the pane itself
                    setTimeout(() => {
                        // Scroll to the top of the content area
                        document.querySelector('.tab-content').scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }, 50);
                } else {
                    // Log error if the target pane wasn't found
                    console.warn('Hash link target pane not found inside tab content:', hash);
                }

                // Important fix: Hide any tab panes with the same ID that might be outside the container
                const outsidePanes = document.querySelectorAll(':not(#helpContent) > .tab-pane, :not(#helpContent) [role="tabpanel"]');
                outsidePanes.forEach(pane => {
                    pane.style.display = 'none';
                });
            } else {
                console.warn('Hash link navigation element not found:', tabSelector);
            }
        }

        // Initial activation based on URL hash
        if (hash) {
            activateTabFromHash(hash);
        } else {
            // If no hash, activate the overview tab
            activateTabFromHash('#overview');
        }

        // Make sure any outside tab-panes are hidden on page load
        const outsidePanes = document.querySelectorAll(':not(#helpContent) > .tab-pane, :not(#helpContent) [role="tabpanel"]');
        outsidePanes.forEach(pane => {
            pane.style.display = 'none';
        });

        // Handle all intra-document tab links
        document.querySelectorAll('.tab-link').forEach(link => {
            link.addEventListener('click', function (event) {
                event.preventDefault();
                const newHash = this.getAttribute('href');

                // Update URL hash
                if (history.pushState) {
                    history.pushState(null, null, newHash);
                } else {
                    window.location.hash = newHash;
                }

                // Activate the tab manually
                activateTabFromHash(newHash);
            });
        });

        // Update URL hash when tabs change for bookmarking/linking
        const tabLinks = document.querySelectorAll('#helpNav a[data-bs-toggle="list"]');
        tabLinks.forEach(link => {
            link.addEventListener('click', function (event) {
                // Prevent the default behavior to manage navigation manually
                event.preventDefault();

                // Get the href attribute which contains the hash
                const newHash = this.getAttribute('href');

                // Update URL hash
                if (history.pushState) {
                    history.pushState(null, null, newHash);
                } else {
                    window.location.hash = newHash;
                }

                // Activate the tab manually
                activateTabFromHash(newHash);
            });
        });

        // Handle browser back/forward buttons
        window.addEventListener('popstate', function (event) {
            const newHash = window.location.hash;
            activateTabFromHash(newHash);
        });

        // Search functionality
        const searchInput = document.getElementById('helpSearchInput');
        const searchBtn = document.getElementById('helpSearchBtn');
        const searchResults = document.getElementById('searchResults');
        const searchResultsList = document.getElementById('searchResultsList');
        const resultCount = document.getElementById('resultCount');
        const closeSearchResults = document.getElementById('closeSearchResults');

        // Function to perform search
        function performSearch() {
            const searchTerm = searchInput.value.toLowerCase().trim();
            if (searchTerm === '') {
                searchResults.classList.add('d-none');
                return;
            }

            // Clear previous results
            searchResultsList.innerHTML = '';

            // Get all the content from tab panes
            const tabPanes = document.querySelectorAll('.tab-pane');
            let results = [];

            tabPanes.forEach(pane => {
                const paneId = pane.id;
                if (!paneId) return; // Skip panes without IDs

                const tabLink = document.querySelector(`#helpNav a[href="#${paneId}"]`);
                const sectionTitle = tabLink ? tabLink.textContent.trim() : 'Unknown Section';

                // Get headings within the pane
                const headings = pane.querySelectorAll('h4, h5, h6');
                headings.forEach(heading => {
                    const headingText = heading.textContent.trim();
                    if (headingText.toLowerCase().includes(searchTerm)) {
                        results.push({
                            section: sectionTitle,
                            title: headingText,
                            paneId: paneId,
                            element: heading
                        });
                    }
                });

                // Get paragraphs and list items
                const textElements = pane.querySelectorAll('p, li, .alert');
                textElements.forEach(el => {
                    const text = el.textContent.trim();
                    if (text.toLowerCase().includes(searchTerm)) {
                        results.push({
                            section: sectionTitle,
                            title: text.length > 100 ? text.substring(0, 100) + '...' : text,
                            paneId: paneId,
                            element: el
                        });
                    }
                });
            });

            // Update results count
            resultCount.textContent = results.length;

            // Display results
            if (results.length > 0) {
                results.forEach(result => {
                    const listItem = document.createElement('li');
                    listItem.className = 'list-group-item';
                    listItem.innerHTML = `
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <small class="text-muted">Section: ${result.section}</small>
                            <div>${result.title}</div>
                        </div>
                        <button class="btn btn-sm btn-primary">View</button>
                    </div>
                `;

                    // Add click handler to go to result
                    listItem.querySelector('button').addEventListener('click', () => {
                        // Activate the tab
                        activateTabFromHash(`#${result.paneId}`);

                        // Update URL hash
                        if (history.pushState) {
                            history.pushState(null, null, `#${result.paneId}`);
                        } else {
                            window.location.hash = `#${result.paneId}`;
                        }

                        // Scroll to the specific element and highlight it
                        setTimeout(() => {
                            // Check if the element is inside an accordion collapse
                            const accordionCollapse = result.element.closest('.accordion-collapse');
                            if (accordionCollapse && !accordionCollapse.classList.contains('show')) {
                                // Find the button that controls this collapse
                                const accordionId = accordionCollapse.id;
                                const accordionButton = document.querySelector(`button[data-bs-target="#${accordionId}"]`);
                                if (accordionButton) {
                                    // Click the button to expand the accordion
                                    accordionButton.click();
                                }
                            }

                            // Now scroll to the element
                            result.element.scrollIntoView({ behavior: 'smooth', block: 'center' });

                            // Add highlight effect
                            result.element.classList.add('highlight-search');
                            setTimeout(() => {
                                result.element.classList.remove('highlight-search');
                            }, 3000);
                        }, 300);

                        // Hide search results
                        searchResults.classList.add('d-none');
                    });

                    searchResultsList.appendChild(listItem);
                });
                searchResults.classList.remove('d-none');
            } else {
                // Show no results message
                const noResults = document.createElement('li');
                noResults.className = 'list-group-item text-center';
                noResults.textContent = 'No results found. Try different keywords.';
                searchResultsList.appendChild(noResults);
                searchResults.classList.remove('d-none');
            }
        }

        // Search button click event
        searchBtn.addEventListener('click', performSearch);

        // Search on Enter key
        searchInput.addEventListener('keyup', function (event) {
            if (event.key === 'Enter') {
                performSearch();
            }
        });

        // Close search results
        closeSearchResults.addEventListener('click', function () {
            searchResults.classList.add('d-none');
        });

        // Form validation for feedback form
        const feedbackForm = document.getElementById('feedbackForm');
        if (feedbackForm) {
            feedbackForm.addEventListener('submit', function (event) {
                event.preventDefault();
                // Basic validation
                const name = document.getElementById('feedbackName').value;
                const email = document.getElementById('feedbackEmail').value;
                const message = document.getElementById('feedbackMessage').value;
                const feedbackType = document.getElementById('feedbackType').value;

                if (!name || !email || !message || !feedbackType) {
                    alert('Please fill out all required fields');
                    return;
                }

                // This would normally submit the form - for now just show a success message
                alert('Thank you for your feedback! We will review it shortly.');
                feedbackForm.reset();
            });
        }
    });
</script>
{% endblock %} 
