{% extends 'base.html' %}

{% block title %}Utilities - Accredit Calculator{% endblock %}

{% block breadcrumb %}
<li class="breadcrumb-item"><a href="{{ url_for('index') }}">Home</a></li>
<li class="breadcrumb-item active">Utilities</li>
{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1 class="mb-4">Utilities</h1>

    <div class="row row-cols-1 row-cols-md-3 g-4">
        <!-- Backup Database -->
        <div class="col">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title"><i class="fas fa-download text-primary"></i> Backup Database</h5>
                    <p class="card-text">Create backups of your Accredit Calculator database to prevent data loss.</p>
                </div>
                <div class="card-footer bg-transparent border-top-0">
                    <a href="{{ url_for('utility.backup_database') }}" class="btn btn-primary">
                        <i class="fas fa-download"></i> Backup
                    </a>
                </div>
            </div>
        </div>

        <!-- Restore Database -->
        <div class="col">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title"><i class="fas fa-upload text-warning"></i> Restore Database</h5>
                    <p class="card-text">Restore your database from previously created backups.</p>
                </div>
                <div class="card-footer bg-transparent border-top-0">
                    <a href="{{ url_for('utility.restore_database') }}" class="btn btn-warning">
                        <i class="fas fa-upload"></i> Restore
                    </a>
                </div>
            </div>
        </div>

        <!-- Import Database -->
        <div class="col">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title"><i class="fas fa-file-import text-info"></i> Import Database</h5>
                    <p class="card-text">Import and merge data from backup files without replacing existing data.</p>
                </div>
                <div class="card-footer bg-transparent border-top-0">
                    <a href="{{ url_for('utility.import_database') }}" class="btn btn-info text-white">
                        <i class="fas fa-file-import"></i> Import
                    </a>
                </div>
            </div>
        </div>

        <!-- Fix Invalid Scores -->
        <div class="col">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title"><i class="fas fa-tools text-warning"></i> Fix Invalid Scores</h5>
                    <p class="card-text">Automatically fix exam scores that exceed question maximum values using proportional distribution.</p>
                </div>
                <div class="card-footer bg-transparent border-top-0">
                    <a href="{{ url_for('score_fixer.fix_invalid_scores') }}" class="btn btn-warning">
                        <i class="fas fa-tools"></i> Fix Scores
                    </a>
                </div>
            </div>
        </div>

        <!-- Merge Courses -->
        <div class="col">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title"><i class="fas fa-object-group text-success"></i> Merge Courses</h5>
                    <p class="card-text">Combine data from multiple course sections into a single course.</p>
                </div>
                <div class="card-footer bg-transparent border-top-0">
                    <a href="{{ url_for('utility.merge_database') }}" class="btn btn-success">
                        <i class="fas fa-object-group"></i> Merge
                    </a>
                </div>
            </div>
        </div>

        <!-- System Logs -->
        <div class="col">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title"><i class="fas fa-list-alt text-info"></i> System Logs</h5>
                    <p class="card-text">View and export system activity logs to track changes in the application.</p>
                </div>
                <div class="card-footer bg-transparent border-top-0">
                    <a href="{{ url_for('utility.view_logs') }}" class="btn btn-info text-white">
                        <i class="fas fa-list-alt"></i> View Logs
                    </a>
                </div>
            </div>
        </div>

        <!-- Database Index Status -->
        <div class="col">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title"><i class="fas fa-database text-primary"></i> Database Index Status</h5>
                    <p class="card-text">Check and manage database indexes for optimal performance, especially for the all courses filtering features.</p>
                </div>
                <div class="card-footer bg-transparent border-top-0">
                    <a href="{{ url_for('utility.index_status') }}" class="btn btn-primary">
                        <i class="fas fa-database"></i> Check Indexes
                    </a>
                </div>
            </div>
        </div>

        <!-- Help & Documentation -->
        <div class="col">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title"><i class="fas fa-question-circle text-secondary"></i> Help & Documentation</h5>
                    <p class="card-text">Access comprehensive documentation and usage guides for Accredit Calculator.</p>
                </div>
                <div class="card-footer bg-transparent border-top-0">
                    <a href="{{ url_for('utility.help_page') }}" class="btn btn-secondary">
                        <i class="fas fa-question-circle"></i> Help
                    </a>
                </div>
            </div>
        </div>

        <!-- Remote Access -->
        <div class="col">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title"><i class="fas fa-cloud text-info"></i> Remote Access</h5>
                    <p class="card-text">Learn how to access and share your application remotely using Cloudflared tunnels.</p>
                </div>
                <div class="card-footer bg-transparent border-top-0">
                    <a href="{{ url_for('utility.cloud_help_page') }}" class="btn btn-info text-white">
                        <i class="fas fa-cloud"></i> Cloud Guide
                    </a>
                </div>
            </div>
        </div>

        <!-- Unassigned Course Outcomes -->
        <div class="col">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title"><i class="fas fa-exclamation-triangle text-warning"></i> Unassigned Course Outcomes</h5>
                    <p class="card-text">Scan all courses to find course outcomes that haven't been assigned to any exam questions.</p>
                </div>
                <div class="card-footer bg-transparent border-top-0">
                    <a href="{{ url_for('utility.unassigned_outcomes') }}" class="btn btn-warning">
                        <i class="fas fa-search"></i> Scan Outcomes
                    </a>
                </div>
            </div>
        </div>

        <!-- Support & Feedback -->
        <div class="col">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title"><i class="fas fa-life-ring text-danger"></i> Support & Feedback</h5>
                    <p class="card-text">Report issues, submit feature requests, and get assistance with Accredit Calculator.</p>
                </div>
                <div class="card-footer bg-transparent border-top-0">
                    <a href="{{ url_for('utility.help_page') }}#contact" class="btn btn-danger">
                        <i class="fas fa-life-ring"></i> Support
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %} 